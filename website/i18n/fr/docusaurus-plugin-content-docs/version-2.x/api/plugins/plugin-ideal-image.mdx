---
sidebar_position: 8
slug: /api/plugins/@docusaurus/plugin-ideal-image
---

# üì¶ plugin-ideal-image

import APITable from '@site/src/components/APITable';

Plugin Docusaurus pour g√©n√©rer une image presque id√©ale (r√©active, chargement diff√©r√© et placeholder de basse qualit√©).

:::info

Par d√©faut, le plugin est **inactif en d√©veloppement** pour que vous puissiez toujours voir des images √† grande √©chelle. Si vous voulez d√©boguer le comportement d'image id√©al, vous pouvez d√©finir l'option [`disableInDev`](#disableInDev) √† `false`.

:::

## Installation {#installation}

```bash npm2yarn
npm install --save @docusaurus/plugin-ideal-image
```

## Utilisation {#usage}

Ce plugin ne supporte que les formats PNG et JPG.

```jsx
import Image from '@theme/IdealImage';
import thumbnail from './path/to/img.png';

// votre code React
<Image img={thumbnail} />

// ou
<Image img={require('./path/to/img.png')} />
```

## Configuration {#configuration}

Champs accept√©s¬†:

```mdx-code-block
<APITable>
```

| Option         | Type       | Par d√©faut                                    | Description                                                                                                                                                                                                                                                                             |
| -------------- | ---------- | --------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `name`         | `string`   | `ideal-img/[name].[hash:hex:7].[width].[ext]` | Mod√®le du nom de fichier pour les fichiers en sortie.                                                                                                                                                                                                                                   |
| `sizes`        | `number[]` | _taille originale_                            | Sp√©cifiez toutes les largeurs que vous voulez utiliser. Si une taille sp√©cifi√©e d√©passe la largeur de l'image originale, celle-ci sera utilis√©e (c'est-√†-dire que les images ne seront pas redimensionn√©es).                                                                            |
| `size`         | `number`   | _taille originale_                            | Sp√©cifiez une largeur que vous voulez utiliser. Si la taille sp√©cifi√©e d√©passe la largeur de l'image originale, celle-ci sera utilis√©e (c'est-√†-dire que les images ne seront pas redimensionn√©es)                                                                                      |
| `min`          | `number`   | `undefined`                                   | Comme alternative √† la sp√©cification manuelle des `sizes`, vous pouvez sp√©cifier `min`, `max` et `steps`, et les tailles seront g√©n√©r√©es pour vous.                                                                                                                                     |
| `max`          | `number`   | `undefined`                                   | Voir `min` ci-dessus                                                                                                                                                                                                                                                                    |
| `steps`        | `number`   | `4`                                           | Configurez le nombre d'images g√©n√©r√©es entre `min` et `max` (inclusif)                                                                                                                                                                                                                  |
| `quality`      | `number`   | `85`                                          | Qualit√© de compression JPEG                                                                                                                                                                                                                                                             |
| `disableInDev` | `boolean`  | `true`                                        | Vous pouvez tester le comportement id√©al de l'image en mode dev en mettant cette valeur √† `false`. **Astuce**: utilisez la [limitation du r√©seau](https://www.browserstack.com/guide/how-to-perform-network-throttling-in-chrome) dans votre navigateur pour simuler des r√©seaux lents. |

```mdx-code-block
</APITable>
```

### Exemple de configuration {#ex-config}

Voici un exemple de configuration¬†:

```js title="docusaurus.config.js"
module.exports = {
  plugins: [
    [
      '@docusaurus/plugin-ideal-image',
      // highlight-start
      {
        quality: 70,
        max: 1030, // taille maximale de l'image redimensionn√©e.
        min: 640, // taille minimale de l'image redimensionn√©e. si l'originale est plus petite, utiliser cette taille.
        steps: 2, // le nombre maximum d'images g√©n√©r√©es entre min et max (inclus)
        disableInDev: false,
      },
      // highlight-end
    ],
  ],
};
```
