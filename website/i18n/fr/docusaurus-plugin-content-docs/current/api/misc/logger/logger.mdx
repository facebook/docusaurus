---
sidebar_position: 2
slug: /api/misc/@docusaurus/logger
---

# üì¶ logger

Un g√©n√©rateur de journaux encapsul√© pour le formatage s√©mantique des messages de la console.

Les auteurs de paquets de l'√©cosyst√®me Docusaurus sont encourag√©s √† utiliser ce paquet pour fournir des formats de log unifi√©s.

## API

Il exporte un seul objet comme exportation par d√©faut¬†: `logger`. `logger` a les propri√©t√©s suivantes¬†:

- Quelques couleurs utiles.
  - `red`
  - `yellow`
  - `green`
  - `bold`
  - `dim`
- Formatteurs. Ces fonctions ont toutes la signature `(msg: unknown) => string`. Notez que leurs impl√©mentations ne sont pas garanties. Vous ne devriez vous pr√©occuper que de leur s√©mantique.
  - `path`¬†: formate un chemin de fichier.
  - `url`¬†: formate une URL.
  - `name`¬†: formate un identifiant.
  - `code`¬†: formate un extrait de code.
  - `subdue`¬†: soumet le texte.
  - `num`¬†: formate un nombre.
- La fonction `interpolate`. C'est un gabarit √©tiquet√©. La syntaxe peut √™tre trouv√©e ci-dessous.
- Fonctions de journalisation. Toutes les fonctions de journalisation peuvent √† la fois √™tre utilis√©es comme des fonctions normales (similaires √† la famille `console.log`, mais n'acceptant qu'un seul param√®tre) ou des gabarits √©tiquet√©s.
  - `info`¬†: affiche une information.
  - `warn`¬†: affiche un avertissement auquel il faut pr√™ter attention.
  - `error`¬†: affiche une erreur (sans n√©cessairement arr√™ter le programme) qui signale des probl√®mes importants.
  - `success`¬†: affiche un message de r√©ussite.
- La fonction `report`. Il prend une valeur de `ReportingSeverity` (`ignore`, `log`, `warn`, `throw`) et signale un message en fonction de la gravit√©.

:::warning Un mot sur le formateur `error`

Attention, un message `error`, m√™me s'il ne bloque pas le programme, risque de cr√©er la confusion. Lorsque les utilisateurs inspectent les logs et trouvent un `[ERROR]`, m√™me lorsque la construction r√©ussit, ils supposent que quelque chose ne va pas. Utilisez-le avec mod√©ration.

Docusaurus n'utilise `logger.error` que lorsqu'il s'agit d'afficher des messages imm√©diatement avant de lancer une erreur, ou lorsque l'utilisateur a d√©fini la gravit√© du rapport de `onBrokenLink`, etc. sur `"error"`.

En outre, `warn` et `error` coloriseront **l'ensemble** du message pour attirer l'attention. Si vous affichez de gros blocs d'aide √† propos d'une erreur, mieux vaut utiliser `logger.info`.

:::

### Utilisation du gabarit √©tiquet√©

Le gabarit √©tiquet√© √©value le template et les expressions int√©gr√©es. `interpolate` retourne une nouvelle cha√Æne, tandis que d'autres fonctions de journalisation l'affichent. Ci-dessous est une utilisation typique¬†:

```js
import logger from '@docusaurus/logger';

logger.info`Hello name=${name}! Vous avez number=${money} dollars. Voici ${
  items.length > 1 ? 'les articles' : 'l'\article'
} de l'√©tag√®re¬†: ${items}
Pour acheter quelque chose, saisissez code=${'acheter x'} o√π code=${'x'} est le nom de l'article; pour quitter, pressez code=${'Ctrl + C'}.`;
```

Une expression int√©gr√©e est √©ventuellement pr√©c√©d√©e d'un drapeau de la forme `[a-z]+=` (quelques minuscules, suivi d'un signe √©gal qui pr√©c√®de directement l'expression int√©gr√©e). Si l'expression n'est pr√©c√©d√©e d'aucun drapeau, elle est imprim√©e telle quelle. Sinon, il est format√© avec un des formateurs¬†:

- `path=`: `path`
- `url=`: `url`
- `name=`: `name`
- `code=`: `code`
- `subdue=`: `subdue`
- `number=`: `num`

Si l'expression est un tableau, elle est format√©e par `` `\n- ${array.join('\n- ')}\n` `` (notez qu'elle obtient automatiquement un saut de ligne √† la fin). Chaque membre est format√© par lui-m√™me et la puce n'est pas format√©e. Vous verrez donc le message ci-dessus affich√© sous la forme suivante :

![Une sortie de texte dans le terminal, contenant le tableau, le code, le nom et le formatage des chiffres](./demo.png)
