---
sidebar_position: 4
slug: /api/plugins/@docusaurus/plugin-client-redirects
---

# ğŸ“¦ plugin-client-redirects

import APITable from '@site/src/components/APITable';

ç”¨äºç”Ÿæˆ**å®¢æˆ·ç«¯é‡å®šå‘**çš„ Docusaurus æ’ä»¶ã€‚

è¿™ä¸ªæ’ä»¶ä¼šåœ¨ä½ çš„é™æ€ç½‘ç«™ä¸­å†™å…¥é¢å¤–çš„ HTML é¡µé¢ï¼Œé€šè¿‡ JavaScript å°†ç”¨æˆ·é‡å®šå‘åˆ°å·²æœ‰çš„ Docusaurus é¡µé¢ã€‚

:::warning ä»…å¯ç”¨äºç”Ÿäº§ç¯å¢ƒ

è¿™ä¸ªæ’ä»¶åœ¨å¼€å‘è¿‡ç¨‹ä¸­å§‹ç»ˆä¸å·¥ä½œï¼Œ**åªåœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¯ç”¨**ï¼Œå› ä¸ºå®ƒä¼šåœ¨æ„å»ºè¾“å‡ºä¸Šå·¥ä½œã€‚

:::

:::warning

å¦‚æœå¯è¡Œï¼Œä½ æœ€å¥½ç”¨æœåŠ¡ç«¯é‡å®šå‘ã€‚

åœ¨ç”¨è¿™ä¸ªæ’ä»¶å‰ï¼Œä½ åº”è¯¥ç¡®å®šä½ çš„æ‰˜ç®¡å•†æ˜¯å¦ç¡®å®ä¸æä¾›æ­¤åŠŸèƒ½ã€‚

:::

## å®‰è£…æµç¨‹ {#installation}

```bash npm2yarn
npm install --save @docusaurus/plugin-client-redirects
```

## é…ç½® {#configuration}

æ¥å—çš„å­—æ®µï¼š

```mdx-code-block
<APITable>
```

| é€‰é¡¹                | ç±»å‹                        | é»˜è®¤å€¼         | æè¿°                                                           |
| ----------------- | ------------------------- | ----------- | ------------------------------------------------------------ |
| `fromExtensions`  | `string[]`                | `[]`        | é‡å®šå‘åä»è·¯å¾„ä¸­å»é™¤çš„æ‰©å±•åã€‚                                              |
| `toExtensions`    | `string[]`                | `[]`        | é‡å®šå‘åæ·»åŠ åˆ°è·¯å¾„ä¸­çš„æ‰©å±•åã€‚                                              |
| `redirects`       | <code>[RedirectRule](#RedirectRule)[]</code> | `[]`        | é‡å®šå‘è§„åˆ™åˆ—è¡¨ã€‚                                                     |
| `createRedirects` | <code>[CreateRedirectsFn](#CreateRedirectsFn)</code> | `undefined` | ç”¨äºåˆ›å»ºé‡å®šå‘è§„åˆ™çš„å›è°ƒã€‚ Docusaurus ä¼šç”¨æ¯ä¸€ä¸ªå®ƒåˆ›å»ºçš„è·¯å¾„æ¥è°ƒç”¨è¿™ä¸ªå›è°ƒï¼Œç„¶åç”¨å®ƒçš„è¿”å›å€¼æ¥è¾“å‡ºæ›´å¤šè·¯å¾„ã€‚ |

```mdx-code-block
</APITable>
```

:::note

This plugin will also read the [`siteConfig.onDuplicateRoutes`](../docusaurus.config.js.mdx#onDuplicateRoutes) config to adjust its logging level when multiple files will be emitted to the same location.

:::

### ç±»å‹ {#types}

#### `RedirectRule` {#RedirectRule}

```ts
type RedirectRule = {
  to: string;
  from: string | string[];
};
```

:::note

"From" å’Œ "to" çš„æ¦‚å¿µæ˜¯è¿™ä¸ªæ’ä»¶çš„æ ¸å¿ƒã€‚ "From" æŒ‡ä½ æƒ³è¦_åˆ›å»º_çš„è·¯å¾„ï¼Œä¹Ÿå°±æ˜¯ä¼šè¢«å†™å…¥çš„é¢å¤– HTML æ–‡ä»¶ï¼›"to" æŒ‡ä½ æƒ³è¦_é‡å®šå‘åˆ°_çš„è·¯å¾„ï¼Œä¸€èˆ¬æ˜¯ Docusaurus å·²ç»çŸ¥é“çš„è·¯å¾„ã€‚

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ å¯ä»¥å¯¹äºåŒä¸€ä¸ª "to" æœ‰å¤šä¸ª "from"ï¼šæˆ‘ä»¬ä¼šåˆ›å»ºå¤šä¸ª HTML æ–‡ä»¶ï¼Œå®ƒä»¬å…¨éƒ¨é‡å®šå‘åˆ°åŒä¸€ä¸ªç›®æ ‡ã€‚ å¦ä¸€æ–¹é¢ï¼Œä¸€ä¸ª "from" æ°¸è¿œä¸ä¼šæœ‰å¤šäºä¸€ä¸ª "to"ï¼šå†™å…¥çš„ HTML æ–‡ä»¶å¿…é¡»æœ‰å”¯ä¸€ç¡®å®šçš„ç›®æ ‡ã€‚

:::

#### `CreateRedirectsFn` {#CreateRedirectsFn}

```ts
// å‚æ•° `path` æ˜¯ä¸€ä¸ª Docusaurus å·²ç»åˆ›å»ºçš„è·¯å¾„ã€‚ å®ƒå¯ä»¥
// è¢«çœ‹ä½œæ˜¯ "to"ï¼Œè€Œä½ çš„è¿”å›å€¼å°±æ˜¯ "from"ã€‚ è¿”å› falsy çš„
// å€¼ï¼Œå°±ä¸ä¼šä¸ºå½“å‰è·¯å¾„åˆ›å»ºä»»ä½•é‡å®šå‘é¡µé¢ã€‚
type CreateRedirectsFn = (path: string) => string[] | string | null | undefined;
```

### ç¤ºä¾‹é…ç½® {#ex-config}

è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹é…ç½®ï¼š

```js title="docusaurus.config.js"
export default {
  plugins: [
    [
      '@docusaurus/plugin-client-redirects',
      // highlight-start
      {
        fromExtensions: ['html', 'htm'], // /myPage.html -> /myPage
        toExtensions: ['exe', 'zip'], // /myAsset -> /myAsset.zip (if latter exists)
        redirects: [
          // /docs/oldDoc -> /docs/newDoc
          {
            to: '/docs/newDoc',
            from: '/docs/oldDoc',
          },
          // Redirect from multiple old paths to the new path
          {
            to: '/docs/newDoc2',
            from: ['/docs/oldDocFrom2019', '/docs/legacyDocFrom2016'],
          },
        ],
        createRedirects(existingPath) {
          if (existingPath.includes('/community')) {
            // Redirect from /docs/team/X to /community/X and /docs/support/X to /community/X
            return [
              existingPath.replace('/community', '/docs/team'),
              existingPath.replace('/community', '/docs/support'),
            ];
          }
          return undefined; // Return a falsy value: no redirect created
        },
      },
      // highlight-end
    ],
  ],
};
```
