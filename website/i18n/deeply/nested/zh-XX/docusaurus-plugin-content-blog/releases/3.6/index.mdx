---
title: Docusaurus 3.6
authors:
  - slorber
tags:
  - å‘å¸ƒ
image: ./img/social-card.png
date: 2024-11-04
---

æˆ‘ä»¬å¾ˆé«˜å…´åœ°å®£å¸ƒ **Docusaurus 3.6** ç°å·²å‘å¸ƒã€‚

Docusaurus ç°åœ¨å¯ä»¥âš¡ï¸âš¡ï¸âš¡ï¸: **æ›´å¿«çš„** æ„å»ºä½ çš„ç½‘ç«™ã€‚

Upgrading should be easy. Our [release process](/community/release-process) respects [Semantic Versioning](https://semver.org/). Minor versions do not include any breaking changes.

![Docusaurus blog post social card](./img/social-card.png)

{/_ truncate _/}

## ç²¾å½©å†…å®¹

è¯¥ç‰ˆæœ¬ä¸»è¦ä¸“æ³¨äºé€šè¿‡ [Docusaurus Faster](https://github.com/facebook/docusaurus/issues/10556) é¡¹ç›®æ„å»ºæ€§èƒ½ã€‚

## Docusaurus Faster

[Docusaurus Faster](https://github.com/facebook/docusaurus/issues/10556)é¡¹ç›®çš„ç›®æ ‡æ˜¯å‡å°‘æ„å»ºæ—¶é—´å’Œå†…å­˜æ¶ˆè€—ã€‚

æˆ‘ä»¬è‡´åŠ›äºå¤šä¸ªä¼˜åŒ–å’Œä½¿æˆ‘ä»¬çš„åŸºç¡€è®¾æ–½ç°ä»£åŒ–ï¼Œä»¥ä¾¿æ›´å¿«åœ°ä½¿ç”¨åŸºäºRusçš„å·¥å…·ï¼Œç‰¹åˆ«æ˜¯ï¼š

- ğŸ¦€ [Rspack](https://rspack.dev/): åŸºäºRustçš„å¿«é€Ÿç½‘é¡µæ‰“åŒ…å·¥å…·, å‡ ä¹æ˜¯å¯ä»¥ä½œä¸º [webpack](https://webpack.js.org/)çš„å®Œå…¨æ›¿ä»£å“
- ğŸ¦€ [SWC](https://swc.rs/): å¿«é€Ÿçš„ç½‘é¡µç¼–è¾‘å™¨ï¼ŒåŸºäºRustçš„ç½‘é¡µå¹³å°(HTML, CS, JS)
- ğŸ¦€ [Lightning CSS](https://lightningcss.dev/): ä¸€ä¸ªæä¸ºå¿«é€Ÿçš„ CSS è§£æå™¨ã€ç¿»è¯‘å™¨ã€æ‰“åŒ…å·¥å…·å’Œå‹ç¼©å™¨ã€‚

### å½±å“

é‡‡ç”¨æ–°çš„åŸºç¡€è®¾æ–½å¯èƒ½ä¼šäº§ç”Ÿå„ç§å½±å“ã€‚ ç”±äºä¸å¯èƒ½å°†æ‰€æœ‰é—®é¢˜å…¨éƒ¨åˆ—ä¸¾å‡ºæ¥ï¼Œå› æ­¤æˆ‘ä»¬å°†é‡ç‚¹å…³æ³¨ä¸»è¦çš„å‡ ä¸ªã€‚

ä¸ºäº†å¸®åŠ©æ‚¨è½»æ¾åœ°ä½¿ç”¨å®ƒï¼Œæˆ‘ä»¬åœ¨é¢„æœŸçš„é™æ€ç«™ç‚¹è¾“å‡ºå’Œ[æµè§ˆå™¨æ”¯æŒ](/docs/browser-support) æ–¹é¢ç›¸å½“ä¿å®ˆã€‚

#### æ„å»ºæ—¶é—´

ç¤¾åŒºç½‘ç«™ä¸Šçš„åŸºå‡†æµ‹è¯•æ˜¾ç¤ºï¼Œæ‚¨å¯ä»¥æœŸå¾…æ‚¨çš„ç”Ÿäº§ç½‘ç«™æ„å»ºé€Ÿåº¦ âš¡ï¸ æé«˜ 2 åˆ° 4 å€ï¼ ğŸ”¥:

- [React Native website](https://github.com/facebook/react-native-website/pull/4268): é€Ÿåº¦æå‡äº† 3.04x å€ ğŸ”¥
- [Babel website](https://github.com/babel/website/pull/2997): é€Ÿåº¦æå‡äº† 3.27x å€ ğŸ”¥
- [Lexical website](https://github.com/facebook/lexical/pull/6761): é€Ÿåº¦æå‡äº† 2x å€ ğŸ”¥

[å¦‚ä½•è¿›è¡ŒåŸºå‡†æµ‹è¯•](https://github.com/facebook/docusaurus/issues/10556#issuecomment-2407671873)

:::note å…³äºé‡å»º

[Rspack ç›®å‰å°šä¸æ”¯æŒæŒä¹…ç¼“å­˜](https://rspack.dev/misc/planning/rowmap#persistent-cache)ï¼Œä½†å®ƒåœ¨å¼€å‘è·¯çº¿å›¾ä¸Šï¼Œé¢„è®¡å¾ˆå¿«ä¼šå®ç°ã€‚ æˆ‘ä»¬è®¤ä¸ºï¼Œè¿™å¯¹ Rspack çš„é‡‡ç”¨å¹¶ä¸æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºå†·å¯åŠ¨çš„ Rspack æ„å»ºé€šå¸¸ä¸ä½¿ç”¨æŒä¹…ç¼“å­˜çš„çƒ­ Webpack æ„å»ºä¸€æ ·å¿«ã€‚

:::

#### å†…å­˜æ¶ˆè€—

æ‚¨è¿˜åº”è¯¥æ³¨æ„åˆ°å†…å­˜æ¶ˆè€—çš„æ”¹è¿›ï¼š

- æ–°åŸºç¡€è®¾æ–½æ¶ˆè€—æ€»å†…å­˜å‡å°‘
- æˆ‘ä»¬ä¿®å¤äº†ä¸€ä¸ªé‡è¦çš„[å†…å­˜æ³„æ¼](https://github.com/facebook/docusaurus/pull/10599)ï¼Œå®ƒç‰¹åˆ«å½±å“åˆ°i18n ç«™ç‚¹
- æˆ‘ä»¬æ·»åŠ äº†[CIæ£€æŸ¥](https://github.com/facebook/docusaurus/pull/10601)ï¼Œä»¥ç¡®ä¿æˆ‘ä»¬ä¸ä¼šå‡ºç°å›å½’é—®é¢˜ï¼Œå¹¶ä¸”æˆ‘ä»¬çš„ç«™ç‚¹å’Œåˆå§‹åŒ–æ¨¡ç‰ˆéƒ½èƒ½åœ¨å†…å­˜å—é™çš„ç¯å¢ƒä¸­æ„å»ºã€‚
- æˆ‘ä»¬æ·»åŠ äº†[å†…éƒ¨å·¥å…·](https://github.com/facebook/docusaurus/pull/10590)ä»¥æ›´å¥½åœ°ç†è§£æ„å»ºçš„å“ªä¸€æ­¥æ¶ˆè€—å†…å­˜
- æˆ‘ä»¬[ç§»é™¤äº†ä¸€ä¸ª `process.exit(0)`](https://github.com/facebook/docusaurus/pull/10410)ï¼Œè¯¥ä»£ç å¯èƒ½ä¼šæ©ç›–æ‚¨è‡ªå·±ä»£ç å’Œç¬¬ä¸‰æ–¹æ’ä»¶ä¸­çš„å†…å­˜æ³„æ¼é—®é¢˜ã€‚

#### å…¶ä»–å½±å“

- HTML å‹ç¼©å™¨ç°åœ¨å¯ä»¥[åœ¨å‡ºç°æ— æ•ˆçš„ HTML markupæ—¶å‘å‡ºè­¦å‘Š](https://github.com/facebook/docusaurus/discussions/10580)
- é™æ€ HTML è¾“å‡º [å‡å°‘äº†~5%çš„å¤§å°](https://github.com/facebook/docusaurus/pull/10554)
- ä¸€äº›é”™è¯¯è¢«æ–°çš„åŸºç¡€ç»“æ„è‡ªåŠ¨ä¿®å¤

### é‡‡ç”¨ç­–ç•¥

è¿™ç§æ–°çš„åŸºç¡€è®¾æ–½æ˜¯ä¸€ç§çªç ´æ€§çš„å˜åŒ–ï¼Œä½†å®ƒæ˜¯é€‰æ‹©æ€§çš„ï¼Œä¸éœ€è¦æ–°ç‰ˆæœ¬çš„Docusaurusã€‚

åœ¨ä½¿ç”¨ Docusaurus æ›´å¿«ä¹‹å‰ï¼Œæ·»åŠ è¿™ä¸ªæ–°åŒ…ï¼š

```bash npm2yarn
npm install @docusaurus/faster
```

ä¸ºäº†å¸®åŠ©æ‚¨åœ¨ **åœ¨Docusaurus v3**ä¸­é€æ­¥é‡‡ç”¨å®ƒï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ç»„å¯ä»¥é€æ­¥æ¿€æ´»çš„åŠŸèƒ½æ ‡å¿—ã€‚

æˆ‘ä»¬å»ºè®®é€šè¿‡è¿™ä¸ªç®€å•çš„å¸ƒå°”å¿«æ·æ–¹å¼ä¸€æ¬¡æ€§å¯ç”¨å®ƒä»¬ï¼š

```js
const config = {
  future: {
    experimental_faster: true,
  },
};
```

å¦‚æœå…¶ä¸­ä¸€ä¸ªåŠŸèƒ½æ ‡å¿—ä¸é€‚ç”¨äºæ‚¨çš„ç½‘ç«™ï¼Œå¯ä»¥ç‹¬ç«‹å¯ç”¨åŠŸèƒ½æ ‡å¿—ï¼š

```ts
const config = {
  future: {
    experimental_faster: {
      swcJsLoader: true,
      swcJsMinimizer: true,
      swcHtmlMinimizer: true,
      lightningCssMinimizer: true,
      rspackBundler: true,
      mdxCrossCompilerCache: true,
    },
  },
};
```

- [`swcJsLoader`](https://github.com/facebook/docusaurus/pull/10435): ä½¿ç”¨ [SWC](https://swc.rs/) è½¬æ¢JS(è€Œä¸æ˜¯ [Babel](https://babeljs.io/))
- [`swcJsLoader`](https://github.com/facebook/docusaurus/pull/10441): ä½¿ç”¨ [SWC](https://swc.rs/) è½¬æ¢JS(è€Œä¸æ˜¯ [Babel](https://github.com/terser/terser))
- [`swcHtmlMinimizer `](https://github.com/facebook/docusaurus/pull/10554): ä½¿ç”¨ [SWC](https://swc.rs/) æ¥æŒ–æ˜HTMLå’ŒåµŒå…¥å¼JS/CSS(è€Œä¸æ˜¯ [html-minifier-terser](https://github.com/terser/html-minifier-terser))
- [`lightningCssMinimizer`](https://github.com/facebook/docusaurus/pull/10522)ï¼šä½¿ç”¨ [Lightning CSSS](https://lightningcss.dev/) æ¥ç¼©å°CSS (è€Œä¸æ˜¯ [cssnano](https://github.com/cssnano/cssnano) å’Œ [clean-css](https://github.com/clean-css/clean-css))
- [`rspackBundler`](https://github.com/facebook/docusaurus/pull/10402)ï¼šä½¿ç”¨ [Rspack](https://rspack.dev/) æ‰“åŒ…æ‚¨çš„åº”ç”¨ç¨‹åº(è€Œä¸æ˜¯ [webpack](https://webpack.js.org/))
- [`mdxCrossCompilerCache`](https://github.com/facebook/docusaurus/pull/10479)ï¼šä¸€æ¬¡åŒæ—¶ä¸ºæµè§ˆå™¨/Node.jsç¯å¢ƒç¼–è¯‘MDXæ–‡ä»¶ï¼Œè€Œä¸æ˜¯ä¸¤æ¬¡ã€‚

:::tip å®éªŒåŠŸèƒ½ä½†å®‰å…¨

ä¸è¦å®³æ€•æ‰“å¼€æ­¤åŠŸèƒ½ã€‚ é…ç½®é€‰é¡¹æ˜¯å®éªŒæ€§çš„ã€‚

æ–°çš„åŸºç¡€è®¾æ–½æ˜¯ç‰¢å›ºçš„ï¼Œæˆ‘ä»¬çš„ç»¼åˆåŸºç¡€è®¾æ–½ç®¡é“å¯¹å…¶è¿›è¡Œäº†å¾ˆå¥½çš„è€ƒéªŒã€‚ [Docusaurusç½‘ç«™](https://docusaurus.io/)å·²ç»åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨äº†å®ƒï¼Œæˆ‘ä»¬ä¹Ÿè®¡åˆ’åœ¨å…¶ä»–Metaæ–‡æ¡£ç½‘ç«™ä¸Šä½¿ç”¨å®ƒã€‚

:::

#### æ’ä»¶

æ–°çš„åŸºç¡€è®¾æ–½ä½¿ç”¨ [Rspack](https://rspack.dev/)ã€‚ ç¢°å·§çš„æ˜¯ï¼ŒRspack ä¸ [webpack](https://webpack.js.org/) å‡ ä¹ 100% å…¼å®¹ï¼Œå¹¶ä¸” Rspack ä¸ä¼šç ´åæˆ‘ä»¬çš„æ’ä»¶ç”Ÿæ€ç³»ç»Ÿã€‚

å¤§å¤šæ•°Docusaurusæ’ä»¶éƒ½åº”è¯¥å¯ä»¥ä¸Rspackå¼€ç®±å³ç”¨ï¼Œå³ä½¿æ˜¯é‚£äº›å®ç°äº†[`configureWebpack`](/docs/api/plugin-methods/lifecycle-apis#configureWebpack) çš„æ’ä»¶ã€‚

ç„¶è€Œï¼Œå…¶ä¸­æœ‰äº›éœ€è¦åšå°çš„ä¿®æ”¹ï¼Œä»¥ä½¿å…¶ä¸Rspackå…¼å®¹ã€‚ ä¸€èˆ¬çš„æƒ³æ³•æ˜¯é¿å…ç›´æ¥å¯¼å…¥ `webpack` ï¼Œè€Œæ˜¯ä½¿ç”¨ "åŠ¨æ€æä¾›" webpack å®ä¾‹ï¼š

```diff
-import webpack from 'webpack';

export default function (context, options) {
  return {
    name: 'custom-docusaurus-plugin',
-   configureWebpack(config, isServer) {
+   configureWebpack(config, isServer, {currentBundler}) {
      return {
        plugins: [
-         new webpack.DefinePlugin({}),
+         new currentBundler.instance.DefinePlugin({}),
        ]
      };
    },
  };
}
```

:::tip æ’ä»¶ä½œè€…

æŸ¥çœ‹[ä¸“ç”¨é—®é¢˜](https://github.com/facebook/docusaurus/issues/10572)è·å–æŒ‡å—å’Œæ”¯æŒã€‚

:::

### åç»­æ­¥éª¤

è¿™æ˜¯ä¸€ä¸ªå¼€ç«¯ï¼šæˆ‘ä»¬å°†ç»§ç»­å¼€å‘[Docusaurus Faster](https://github.com/facebook/docusaurus/issues/10556)é¡¹ç›®ï¼Œå¹¶ä¸”å·²ç»è®¡åˆ’äº†ä¸€äº›æ›´å¤šçš„æ€§èƒ½æ”¹è¿›ã€‚

å–å†³äº[æ‚¨çš„åé¦ˆ](https://github.com/facebook/docusaurus/issues/10556), æˆ‘ä»¬è®¡åˆ’åœ¨å³å°†åˆ°æ¥çš„ä¸»è¦ç‰ˆæœ¬Docusaurusä¸­å°†æ­¤æ–°åŸºç¡€è®¾æ–½è®¾ç½®ä¸ºé»˜è®¤ã€‚

ğŸ™ æˆ‘ä»¬æ„Ÿè°¢æ‰€æœ‰è¿™äº›ä¼Ÿå¤§å·¥å…·çš„ä½œè€…ï¼Œè¿™äº›å·¥å…·å·²ç»å¸®åŠ©æˆ‘ä»¬ä½¿Docusaurusæ¯”ä»¥å‰å¿«å¾—å¤šã€‚ ç‰¹åˆ«æ„Ÿè°¢ [Rspack å›¢é˜Ÿ](https://rspack.dev/misc/team/core-team) åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­å¯¹æˆ‘ä»¬çš„æ”¯æŒï¼Œä»–ä»¬è¿…é€Ÿå¤„ç†äº†æˆ‘ä»¬çš„åé¦ˆï¼Œå¹¶ç°äº†æˆ‘ä»¬æ‰€éœ€çš„æ‰€æœ‰ç¼ºå¤±åŠŸèƒ½ï¼Œä½¿è¿™ä¸€åˆ‡å¾—ä»¥é¡ºåˆ©è¿›è¡Œã€‚ ğŸ‘

## Rsdoctor æ’ä»¶

åœ¨ [#10588](https://github.com/facebook/docusaurus/pull/10588)ä¸­, æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª [Rsdoctor](https://rsdoctor.dev/)çš„Docusaurusæ’ä»¶. å®ƒåˆ†æäº† Docusaurus çš„æ‰“åŒ…é˜¶æ®µï¼Œå¸®åŠ©ä½ æ‰¾å‡ºåœ¨åŠ è½½å™¨ã€æ’ä»¶å’Œå‹ç¼©å™¨æ–¹é¢å¯¼è‡´æ‰“åŒ…é€Ÿåº¦å˜æ…¢çš„åŸå› ã€‚ å®ƒåŒæ—¶é€‚ç”¨äºwebpack å’Œ Rspackã€‚

![åŠ è½½æ—¶é—´è½´ç¤ºä¾‹](./img/rsdoctor.jpg)

è¦ä½¿ç”¨å®ƒï¼Œè¯·å®‰è£…æ–°çš„ [`@docusaurus/plugin-rsdoctor`](/docs/api/plugins/@docusaurus/plugin-rsdoctor) åŒ…ï¼Œç„¶ååœ¨ä½ çš„é…ç½®ä¸­ä½¿ç”¨æ’ä»¶ï¼š

```ts title="docusaurus.config.js"
export default {
  plugins: [
    [
      'rsdoctor',
      {
        /* options */
      },
    ],
  ],
};
```

:::tip

åŸºäºç¯å¢ƒå˜é‡æœ‰æ¡ä»¶åœ°å¯ç”¨å®ƒï¼š

```ts title="docusaurus.config.js"
export default {
  plugins: [
    process.env.RSDOCTOR === 'true' && [
      'rsdoctor',
      {
        /* options */
      },
    ],
  ],
};
```

```bash
# Build without Rsdoctor
npm run build

# Build with Rsdoctor
RSDOCTOR=true npm run build
```

:::

## Mermaid

åœ¨ [#10510](https://github.com/facebook/docusaurus/pull/10510) ä¸­ï¼Œæˆ‘ä»¬æ”¾å®½äº†æˆ‘ä»¬çš„ [Mermaid diagrams](https://mermaid.js.org/) ä¾èµ–èŒƒå›´ä»¥å…è®¸è¾ƒæ–°çš„ä¸»è¦ç‰ˆæœ¬çš„Mermaidã€‚ æˆ‘ä»¬ç°åœ¨æ”¯æŒ Mermaid 10 å’Œ 11ï¼Œå¹¶é¢„è®¡å³å°†å‘å¸ƒçš„ç‰ˆæœ¬ä¹Ÿå°†å…¼å®¹ï¼Œè®©æ‚¨å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚è¿›è¡Œå‡çº§ã€‚

è§£é”äº†æ–°çš„å›¾è¡¨ç±»å‹ï¼Œä¾‹å¦‚ [æ¶æ„å›¾](https://mermaid.js.org/syntax/structure)ï¼š

```mermaid
architecture-beta
    group api(cloud)[API]

    service db(database)[Database] in api
    service disk1(disk)[Storage] in api
    service disk2(disk)[Storage] in api
    service server(server)[Server] in api

    db:L -- R:server
    disk1:T -- B:server
    disk2:T -- B:db
```

## Translations

- ğŸ‡¸ğŸ‡® [#10551](https://github.com/facebook/docusaurus/pull/10551): æ”¹è¿›æ–¯æ´›æ–‡å°¼äºšè¯­ç¿»è¯‘ã€‚
- :è¶Šå—ï¼š[#10507](https://github.com/facebook/docusaurus/pull/10507)ï¼šæ”¹è¿›è¶Šå—ä¸»é¢˜ç¿»è¯‘ã€‚
- ğŸ‡ªğŸ‡¸ [#10413](https://github.com/facebook/docusaurus/pull/10413): æ”¹è¿›è¥¿ç­ç‰™è¯­ä¸»é¢˜çš„ç¿»è¯‘ã€‚

## å…¶ä»–æ”¹å˜ï¼š

Other notable changes include:

- [#10586](https://github.com/facebook/docusaurus/pull/10586): åšå®¢æ”¯æŒ `frontMatter.title_meta` ä»¥åŸºäºSEO çš„ç†ç”±è¦†ç›– `frontMatter.title` ã€‚
- [#10600](https://github.com/facebook/docusaurus/pull/10600): `docusaurus build` and `docusaurus depl` ç°åœ¨æ”¯æŒå¤šä¸ª`--locale` CLI args.
- [#10454](https://github.com/facebook/docusaurus/pull/10454): `docusaurus-mot-plugin-npm2yarn` å‡çº§åˆ° [`npmto-yarn` v3](https://github.com/nebrelbug/npm-to yarn/releases/tag/v3.0.0.0) å¹¶å¯ä»¥è½¬æ¢ `npx` å‘½ä»¤ã€‚
- [#10612](https://github.com/facebook/docusaurus/pull/10612)ï¼šCanary releases will used `3.5.2-canary-<number>` è€Œä¸æ˜¯`0.0.0-canary-<number>` for respect plugins `peerDependency`ã€‚
- [#10547](https://github.com/facebook/docusaurus/pull/10547): `@docusaurus/tsconfig` å‡çº§åˆ° \`target: 'es2022'
- [#10514](https://github.com/facebook/docusaurus/pull/10514)ï¼šä»Docusaurus init æ¨¡æ¿ä¸­åˆ é™¤`babel.config.js`ï¼Œä»¥é˜»æ­¢å®šåˆ¶Babelã€‚

æŸ¥çœ‹ **[3.6.0 changelog entry](/changelog/3.6.0)** ä»¥è·å–æ›´è¯¦ç»†çš„å˜æ›´åˆ—è¡¨
