---
keywords:
  - algolia
  - æœç´¢
---

# æœç´¢

æœ‰å‡ ç§ä¸ºä½ çš„ç½‘ç«™æ·»åŠ æœç´¢åŠŸèƒ½çš„æ–¹æ¡ˆï¼š

- ğŸ¥‡ [Algolia DocSearch](#using-algolia-docsearch)ï¼ˆ**å®˜æ–¹æ”¯æŒ**ï¼‰
- ğŸ‘¥ [Typesense DocSearch](#using-typesense-docsearch)
- ğŸ‘¥ [æœ¬åœ°æœç´¢](#using-local-search)
- ğŸ‘¥ [ä½ è‡ªå·±çš„ `SearchBar` ç»„ä»¶](#using-your-own-search)

:::info

ğŸ¥‡ Docusaurus æä¾›å¯¹ [Algolia DocSearch](#using-algolia-docsearch) çš„**å®˜æ–¹æ”¯æŒ**ã€‚

ğŸ‘¥ å…¶ä»–é€‰é¡¹æ˜¯**ç¤¾åŒºç»´æŠ¤çš„**ï¼šè¯·æŠŠ bug æŠ¥å‘Šç»™ä»–ä»¬å„è‡ªçš„ä»“åº“ã€‚

:::

## ğŸ¥‡ ä½¿ç”¨ Algolia DocSearch {#using-algolia-docsearch}

Docusaurus æä¾›å¯¹ [Algolia DocSearch](https://docsearch.algolia.com) çš„**å®˜æ–¹æ”¯æŒ**ã€‚

æ­¤æœåŠ¡å¯¹æ‰€æœ‰å¼€å‘è€…æ–‡æ¡£å’ŒæŠ€æœ¯åšå®¢éƒ½æ˜¯**å…è´¹çš„**ï¼Œåªéœ€è¦ç¡®ä¿é˜…è¯»[æ£€æŸ¥æ¸…å•](https://docsearch.algolia.com/docs/who-can-apply/)å¹¶[å‘ DocSearch ç”³è¯·](https://docsearch.algolia.com/apply)å³å¯ã€‚

Docsearch æ¯å‘¨ä¸€æ¬¡çˆ¬å–ä½ çš„ç½‘ç«™ï¼ˆå¯ä»¥åœ¨ç½‘é¡µç•Œé¢ä¸Šé…ç½®å…·ä½“æ—¶é—´ï¼‰ï¼Œå¹¶å°†æ‰€æœ‰å†…å®¹æ±‡æ€»åˆ°ä¸€ä¸ª Algolia ç´¢å¼•ä¸­ã€‚ éšåï¼Œä½ çš„å‰ç«¯ä¼šè°ƒç”¨ Algolia API æ¥ç›´æ¥æŸ¥è¯¢è¿™äº›å†…å®¹ã€‚

å¦‚æœä½ çš„ç½‘ç«™[ä¸ç¬¦åˆ](https://docsearch.algolia.com/docs/who-can-apply)å…è´¹æ‰˜ç®¡çš„ DocSearch ç‰ˆæœ¬çš„è¦æ±‚ï¼Œ æˆ–è€…å¦‚æœä½ çš„ç½‘ç«™ä½äºé˜²ç«å¢™åä¸”ä¸å…¬å¼€ï¼Œé‚£ä¹ˆä½ å¯ä»¥[è¿è¡Œä½ è‡ªå·±çš„](https://docsearch.algolia.com/docs/run-your-own/) DocSearch çˆ¬è™«ã€‚

:::note

Docusaurus é¢„è®¾ä¼šé»˜è®¤ç”Ÿæˆä¸€ä»½ [sitemap.xml](https://docusaurus.io/sitemap.xml) ä¾› Algolia çˆ¬è™«ä½¿ç”¨ã€‚

:::

:::info ä»æ—§ DocSearch è¿ç§»æ¥çš„ï¼Ÿ

è¦äº†è§£æ›´å¤šå…³äºä»æ—§ DocSearch æ¶æ„è¿ç§»åˆ°æ–°æ¶æ„çš„å†…å®¹ï¼Œä½ å¯ä»¥è¯»è¯»[æˆ‘ä»¬çš„åšå®¢æ–‡ç« ](/blog/2021/11/21/algolia-docsearch-migration)æˆ–è€… [DocSearch è¿ç§»æ–‡æ¡£](https://docsearch.algolia.com/docs/migrating-from-legacy)ã€‚

:::

### é…ç½®ç´¢å¼• {#algolia-index-configuration}

åœ¨ä½ çš„ç”³è¯·è¢«æ‰¹å‡†å¹¶éƒ¨ç½²å®Œæ¯•åï¼Œä½ ä¼šæ”¶åˆ°ä¸€å°åŒ…å«æ‰€æœ‰è¯¦ç»†ä¿¡æ¯çš„ç”µå­é‚®ä»¶ï¼Œå‘Šè¯‰ä½ å¦‚ä½•å°† DocSearch æ·»åŠ åˆ°ä½ çš„é¡¹ç›®ã€‚ å¯ä»¥é€šè¿‡[ç½‘é¡µç•Œé¢](https://crawler.algolia.com/)æ¥ç¼–è¾‘å’Œç®¡ç†ä½ çš„ç½‘ç«™çˆ¬å–ã€‚ éƒ¨ç½²å®Œæ¯•åï¼Œç´¢å¼•å°±ç«‹å³å¯ç”¨äº†ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸éœ€è¦æ‰‹åŠ¨é…ç½®ã€‚

:::danger ä½¿ç”¨æ¨èçš„çˆ¬è™«é…ç½®

æˆ‘ä»¬é«˜åº¦æ¨èä½¿ç”¨æˆ‘ä»¬çš„å®˜æ–¹ [**Docusaurus v3 çˆ¬è™«é…ç½®**](https://docsearch.algolia.com/docs/templates/#docusaurus-v3-template)ã€‚ å¦‚æœä½ ä½¿ç”¨äº†ä¸åŒçš„çˆ¬è™«é…ç½®ï¼Œæˆ‘ä»¬ä¸èƒ½å¤Ÿä¸ºä½ æä¾›æ”¯æŒã€‚

:::

:::warning æ›´æ–°ä½ çš„çˆ¬è™«é…ç½®æ—¶

çˆ¬è™«é…ç½®åŒ…å«äº†ä¸€ä¸ª `initialIndexSettings`ï¼Œå®ƒä»…ä¼šåœ¨ä½ çš„ Algolia ç´¢å¼•æœªå­˜åœ¨æ—¶ä½¿ç”¨ï¼Œä»¥å°†å…¶åˆå§‹åŒ–ã€‚

å¦‚æœä½ æ›´æ–°äº†ä½ çš„ `initialIndexSettings` çˆ¬è™«é…ç½®ï¼Œå°½ç®¡ä½ å¯ä»¥é€šè¿‡ç•Œé¢æ‰‹åŠ¨æ›´æ–°ç´¢å¼•ï¼Œä½† [Algolia å›¢é˜Ÿæ¨èåˆ é™¤ç´¢å¼•å¹¶é‡å¯çˆ¬è™«](https://github.com/facebook/docusaurus/issues/9200#issuecomment-1667338492)ä»¥å°†å…¶å®Œå…¨é‡æ–°åˆå§‹åŒ–ä¸ºæ–°é…ç½®ã€‚

:::

### è¿æ¥åˆ° Algolia {#connecting-algolia}

Docusaurus çš„ `@docusaurus/preset-classic` è‡ªå¸¦ Algolia DocSearch é›†æˆã€‚ å¦‚æœä½ ç”¨çš„æ˜¯ç»å…¸é¢„è®¾ï¼Œå°±ä¸éœ€è¦é¢å¤–å®‰è£…ä»»ä½•ä¸œè¥¿ã€‚

<details>
<summary>ä¸ä½¿ç”¨ <code>@docusaurus/preset-classic</code> æ—¶çš„å®‰è£…æ­¥éª¤</summary>

1. å®‰è£…è½¯ä»¶åŒ…ï¼š

```bash npm2yarn
npm install --save @docusaurus/theme-search-algolia
```

2. åœ¨ `docusaurus.config.js` ä¸­æ³¨å†Œä¸»é¢˜ï¼š

```js title="docusaurus.config.js"
export default {
  title: 'My site',
  // ...
  themes: ['@docusaurus/theme-search-algolia'],
  themeConfig: {
    // ...
  },
};
```

</details>

ç„¶åï¼Œåœ¨ä½ çš„ `themeConfig` ä¸­æ·»åŠ ä¸€ä¸ª `algolia` å­—æ®µã€‚ è¦å–å¾—ä½ çš„ Algolia ç´¢å¼•åå’Œ API å¯†é’¥ï¼Œè¯·**[å‘ DocSearch ç”³è¯·](https://docsearch.algolia.com/apply/)**ã€‚

```js title="docusaurus.config.js"
export default {
  // ...
  themeConfig: {
    // ...
    // highlight-start
    algolia: {
      // Algolia æä¾›çš„åº”ç”¨ ID
      appId: 'YOUR_APP_ID',

      //  å…¬å¼€ API å¯†é’¥ï¼šæäº¤å®ƒæ²¡æœ‰å±é™©
      apiKey: 'YOUR_SEARCH_API_KEY',

      indexName: 'YOUR_INDEX_NAME',

      // å¯é€‰ï¼šè§ä¸‹æ–‡
      contextualSearch: true,

      // å¯é€‰ï¼šå£°æ˜å“ªäº›åŸŸåéœ€è¦ç”¨ window.location å‹çš„å¯¼èˆªè€Œä¸æ˜¯ history.pushã€‚ é€‚ç”¨äº Algolia é…ç½®ä¼šçˆ¬å–å¤šä¸ªæ–‡æ¡£ç«™ç‚¹ï¼Œè€Œæˆ‘ä»¬æƒ³è¦ç”¨ window.location.href åœ¨å®ƒä»¬ä¹‹é—´è·³è½¬æ—¶ã€‚
      externalUrlRegex: 'external\\.com|domain\\.com',

      // å¯é€‰ï¼šæ›¿æ¢ Algolia çš„éƒ¨åˆ†ç½‘å€ã€‚ åœ¨ä½¿ç”¨ç›¸åŒæœç´¢ç´¢å¼•æ”¯æŒå¤šä¸ªä¸åŒ baseUrl çš„éƒ¨ç½²æ—¶éå¸¸æœ‰ç”¨ã€‚ ä½ å¯ä»¥åœ¨ â€œfromâ€ ä¸­ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æˆ–å­—ç¬¦ä¸²ã€‚ æ¯”æ–¹è¯´ï¼Œlocalhost:3000 å’Œ myCompany.com/docs
      replaceSearchResultPathname: {
        from: '/docs/', // or as RegExp: /\/docs\//
        to: '/',
      },

      // å¯é€‰ï¼šAlgolia æœç´¢å‚æ•°
      searchParameters: {},

      // å¯é€‰ï¼šé»˜è®¤å¯ç”¨çš„æœç´¢é¡µè·¯å¾„ï¼ˆä¼ é€’ `false` ä»¥ç¦ç”¨å®ƒï¼‰
      searchPagePath: 'search',

      // å¯é€‰ï¼šDocsearch çš„ insights åŠŸèƒ½æ˜¯å¦å¯ç”¨ï¼ˆé»˜è®¤ä¸º `false`ï¼‰
      insights: false,

      //... å…¶ä»– Algolia å‚æ•°
    },
    // highlight-end
  },
};
```

:::info

`searchParameters` é€‰é¡¹å³ Docusaurus v1 ä¸­çš„ `algoliaOptions`ã€‚

è¯·å‚é˜… [DocSearch å®˜æ–¹æ–‡æ¡£](https://docsearch.algolia.com/docs/api#searchparameters)äº†è§£å¯å–çš„å€¼ã€‚

:::

:::warning

åœ¨ Algolia çˆ¬å–ä½ çš„ç½‘ç«™ä¹‹å‰ï¼Œæœç´¢åŠŸèƒ½æ— æ³•å¯é åœ°å·¥ä½œã€‚

å¦‚æœåœ¨ä»»ä½•é‡å¤§æ›´æ”¹ä¹‹åï¼Œæœç´¢æ— æ³•æ­£å¸¸å·¥ä½œï¼Œè¯·ç”¨ Algolia æ§åˆ¶é¢æ¿**è§¦å‘ä¸€æ¬¡æ–°çˆ¬å–**ã€‚

:::

### ä¸Šä¸‹æ–‡æœç´¢ {#contextual-search}

ä¸Šä¸‹æ–‡æœç´¢**é»˜è®¤å¯ç”¨**ã€‚

å®ƒç¡®ä¿æœç´¢ç»“æœ**ä¸å½“å‰è¯­è¨€å’Œç‰ˆæœ¬**ç›¸å…³ã€‚

```js title="docusaurus.config.js"
export default {
  // ...
  themeConfig: {
    // ...
    // highlight-start
    algolia: {
      contextualSearch: true,
    },
    // highlight-end
  },
};
```

å‡è®¾ä½ æœ‰ä¸¤ä¸ªæ–‡æ¡£ç‰ˆæœ¬ï¼ˆ**v1** å’Œ **v2**ï¼‰ä»¥åŠä¸¤ç§è¯­è¨€ï¼ˆ`en` å’Œ `zh-Hans`ï¼‰ã€‚

æµè§ˆ v2 çš„æ–‡æ¡£æ—¶ï¼Œè¿”å› v1 æ–‡æ¡£çš„æœç´¢ç»“æœä¼šå¾ˆå¥‡æ€ªã€‚ æœ‰æ—¶ä¾¯ v1 å’Œ v2 çš„æ–‡æ¡£éå¸¸ç›¸ä¼¼ï¼Œå¯¼è‡´åŒä¸€ä¸ªæŸ¥è¯¢äº§ç”Ÿé‡å¤çš„æœç´¢ç»“æœï¼ˆæ¯ä¸ªç‰ˆæœ¬ä¸€ä¸ªç»“æœï¼‰ã€‚

åŒæ ·ï¼Œåœ¨æµè§ˆä¸­æ–‡ç½‘ç«™æ—¶ï¼Œè¿”å›è‹±æ–‡æ–‡æ¡£çš„æœç´¢ç»“æœä¹Ÿå¾ˆå¥‡æ€ªã€‚

ä¸Šä¸‹æ–‡æœç´¢åŠŸèƒ½è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚å®ƒèƒ½å¤Ÿç†è§£ä½ æ­£åœ¨æµè§ˆæŸä¸ªæ–‡æ¡£ç‰ˆæœ¬åŠè¯­è¨€ï¼Œå¹¶åŠ¨æ€åˆ›å»ºæœç´¢è¿‡æ»¤å™¨ã€‚

- åœ¨ `/en/docs/v1/myDoc` ä¸Šï¼Œæœç´¢ç»“æœå°†åªåŒ…å«**è‹±æ–‡** **v1** æ–‡æ¡£çš„ç»“æœï¼ˆä»¥åŠå…¶ä»–æœªåˆ†ç‰ˆæœ¬çš„é¡µé¢ï¼‰
- åœ¨ `/zh-Hans/docs/v2/myDoc` ä¸Šï¼Œæœç´¢ç»“æœå°†åªåŒ…å«** ä¸­æ–‡** **v2** æ–‡æ¡£çš„ç»“æœï¼ˆä»¥åŠå…¶ä»–æœªåˆ†ç‰ˆæœ¬çš„é¡µé¢ï¼‰

:::info

ä½¿ç”¨ `contextualSearch: true`ï¼ˆé»˜è®¤å¼€å¯ï¼‰æ—¶ï¼Œä¸Šä¸‹æ–‡åˆ†é¢è¿‡æ»¤å™¨ (contextual facet filters) ä¼šå’Œ `algolia.searchParameters.facetFilters` åˆå¹¶ã€‚

å¦‚æœæœ‰ç‰¹åˆ«éœ€æ±‚ï¼Œä½ å¯ä»¥ç¦ç”¨ `contextualSearch` å¹¶è‡ªå®šä¹‰ `facetFilters`ï¼š

```js title="docusaurus.config.js"
export default {
  // ...
  themeConfig: {
    // ...
    // highlight-start
    algolia: {
      contextualSearch: false,
      searchParameters: {
        facetFilters: ['language:en', ['filter1', 'filter2'], 'filter3'],
      },
    },
    // highlight-end
  },
};
```

è¯·å‚é˜…ç›¸å…³çš„ [Algolia çº¦æŸé¢æ–‡æ¡£](https://www.algolia.com/doc/guides/managing-results/refine-results/faceting/)ã€‚

:::

:::warning ä¸Šä¸‹æ–‡æœç´¢ä¸èƒ½ç”¨äº†ï¼Ÿ

å¦‚æœä½ åªåœ¨ä¸Šä¸‹æ–‡æœç´¢è¢«ç¦ç”¨æ—¶è·å¾—æœç´¢ç»“æœï¼Œå¾ˆå¯èƒ½æ˜¯ç”±äº[ç´¢å¼•é…ç½®é—®é¢˜](#algolia-no-search-results)ã€‚

:::

### è®¾è®¡ä½ çš„ Algolia æœç´¢æ¡† {#styling-your-algolia-search}

DocSearch é»˜è®¤è‡ªå¸¦ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„ä¸»é¢˜ï¼Œä¿è¯å¯è®¿é—®æ€§ï¼Œç¡®ä¿é¢œè‰²å’Œå¯¹æ¯”åº¦ç¬¦åˆæ ‡å‡†ã€‚

ä½ ä»ç„¶å¯ä»¥å¤ç”¨ Docusaurus çš„ [Infima CSS å˜é‡](styling-layout.mdx#styling-your-site-with-infima)ï¼Œé€šè¿‡ç¼–è¾‘ `/src/css/custom.css` æ–‡ä»¶ç»™ DocSearch æä¾›æ ·å¼ã€‚

```css title="/src/css/custom.css"
[data-theme='light'] .DocSearch {
  /* --docsearch-primary-color: var(--ifm-color-primary); */
  /* --docsearch-text-color: var(--ifm-font-color-base); */
  --docsearch-muted-color: var(--ifm-color-secondary-darkest);
  --docsearch-container-background: rgba(94, 100, 112, 0.7);
  /* å¼¹çª— */
  --docsearch-modal-background: var(--ifm-color-secondary-lighter);
  /* æœç´¢æ¡† */
  --docsearch-searchbox-background: var(--ifm-color-secondary);
  --docsearch-searchbox-focus-background: var(--ifm-color-white);
  /* æ¡ç›® */
  --docsearch-hit-color: var(--ifm-font-color-base);
  --docsearch-hit-active-color: var(--ifm-color-white);
  --docsearch-hit-background: var(--ifm-color-white);
  /* é¡µè„š */
  --docsearch-footer-background: var(--ifm-color-white);
}

[data-theme='dark'] .DocSearch {
  --docsearch-text-color: var(--ifm-font-color-base);
  --docsearch-muted-color: var(--ifm-color-secondary-darkest);
  --docsearch-container-background: rgba(47, 55, 69, 0.7);
  /* å¼¹çª— */
  --docsearch-modal-background: var(--ifm-background-color);
  /* æœç´¢æ¡† */
  --docsearch-searchbox-background: var(--ifm-background-color);
  --docsearch-searchbox-focus-background: var(--ifm-color-black);
  /* æ¡ç›® */
  --docsearch-hit-color: var(--ifm-font-color-base);
  --docsearch-hit-active-color: var(--ifm-color-white);
  --docsearch-hit-background: var(--ifm-color-emphasis-100);
  /* é¡µè„š */
  --docsearch-footer-background: var(--ifm-background-surface-color);
  --docsearch-key-gradient: linear-gradient(
    -26.5deg,
    var(--ifm-color-emphasis-200) 0%,
    var(--ifm-color-emphasis-100) 100%
  );
}
```

### è‡ªå®šä¹‰ Algolia æœç´¢è¡Œä¸º {#customizing-the-algolia-search-behavior}

Algolia DocSearch æ”¯æŒ[ä¸€ç³»åˆ—é€‰é¡¹](https://docsearch.algolia.com/docs/api/)ï¼Œä½ å¯ä»¥é€šè¿‡ `docusaurus.config.js` æ–‡ä»¶ä¸­çš„ `algolia` å­—æ®µä¼ é€’å®ƒä»¬ã€‚

```js title="docusaurus.config.js"
export default {
  themeConfig: {
    // ...
    algolia: {
      apiKey: 'YOUR_API_KEY',
      indexName: 'YOUR_INDEX_NAME',
      // é€‰é¡¹â€¦â€¦
    },
  },
};
```

### ç¼–è¾‘ Algolia æœç´¢ç»„ä»¶ {#editing-the-algolia-search-component}

å¦‚æœä½ æƒ³è¦ç¼–è¾‘ Algolia æœç´¢çš„ React ç»„ä»¶ï¼Œå¯ä»¥ [swizzle](swizzling.mdx) `@docusaurus/theme-search-algolia` çš„ `SearchBar` ç»„ä»¶ï¼š

```bash npm2yarn
npm run swizzle @docusaurus/theme-search-algolia SearchBar
```

### Troubleshooting {#algolia-troubleshooting}

ä»¥ä¸‹æ˜¯ Docusaurus ç”¨æˆ·åœ¨ä½¿ç”¨ Algolia DocSearch æ—¶æœ€å¸¸è§çš„é—®é¢˜ã€‚

#### æ— æœç´¢ç»“æœ {#algolia-no-search-results}

çœ‹åˆ°æ— æœç´¢ç»“æœé€šå¸¸æ˜¯å› ä¸º**ç´¢å¼•é…ç½®é—®é¢˜**ã€‚

<details>
  <summary>å¦‚ä½•æ£€æŸ¥æˆ‘æ˜¯å¦æœ‰é…ç½®é—®é¢˜ï¼Ÿ</summary>

Docusaurus ä½¿ç”¨ [Algolia åˆ†é¢](https://www.algolia.com/doc/guides/managing-results/refine-results/faceting/)å®ç°å…¶[ä¸Šä¸‹æ–‡æœç´¢](#contextual-search)åŠŸèƒ½ï¼Œä»è€Œåˆ›å»ºåŠ¨æ€æŸ¥è¯¢ï¼Œå¦‚ï¼š

```json
[
  "language:en",
  [
    "docusaurus_tag:default",
    "docusaurus_tag:docs-default-3.2.1",
    "docusaurus_tag:docs-community-current",
    "docusaurus_tag:docs-docs-tests-current"
  ]
]
```

åœ¨ Algolia ç•Œé¢ä¸­ï¼Œä½ çš„ç´¢å¼•åº”è¯¥å…è®¸æ ¹æ® `docusaurus_tag`ã€`language`ã€`lang`ã€`version`ã€`type` å­—æ®µåˆ›å»ºåˆ†é¢æŸ¥è¯¢ï¼Œæ­£å¦‚ä¸‹é¢çš„æˆªå›¾ä¸­æ‰€å±•ç¤ºçš„ï¼š

![Algolia ç´¢å¼•å±•ç¤ºäº†æ°å½“çš„åˆ†é¢å­—æ®µ](/img/docsearch-troubleshoot-index-facets.jpg)

æˆ–è€…ï¼Œå¦‚æœä½ é€šè¿‡è®¾ç½® `{contextualSearch: false}` ç¦ç”¨äº†ä¸Šä¸‹æ–‡æœç´¢ï¼ˆæˆ‘ä»¬ä¸æ˜¯ç‰¹åˆ«æ¨èè¿™æ ·åšï¼‰ï¼ŒDocusaurus å°±ä¸ä¼šä½¿ç”¨åˆ†é¢æŸ¥è¯¢ï¼Œè¿™æ ·ä½ åº”è¯¥å¼€å§‹çœ‹åˆ°ç»“æœäº†ã€‚

</details>

:::danger ä½¿ç”¨æ¨èçš„é…ç½®

å‡ºäºä¸€ä¸ªå¾ˆå¥½çš„ç†ç”±ï¼Œæˆ‘ä»¬[æ¨èä¸€ä¸ªç‰¹å®šçš„çˆ¬è™«é…ç½®](#algolia-index-configuration)ã€‚ å¦‚æœä½ é€‰æ‹©ä½¿ç”¨ä¸åŒçš„é…ç½®ï¼Œæˆ‘ä»¬ä¸èƒ½å¤Ÿä¸ºä½ æä¾›æ”¯æŒã€‚

:::

ä½ å¯ä»¥é€šè¿‡éµå¾ªä»¥ä¸‹æ­¥éª¤ä¿®å¤ç´¢å¼•é…ç½®é—®é¢˜ï¼š

1. ä½¿ç”¨[æ¨èçš„çˆ¬è™«é…ç½®](#algolia-index-configuration)
2. é€šè¿‡ç”¨æˆ·ç•Œé¢åˆ é™¤ä½ çš„ç´¢å¼•
3. é€šè¿‡ç”¨æˆ·ç•Œé¢è§¦å‘ä¸€ä¸ªæ–°çš„çˆ¬è™«
4. æ£€æŸ¥ä½ çš„ç´¢å¼•æ˜¯å¦ä»¥æ°å½“çš„åˆ†é¢å­—æ®µé‡æ–°åˆ›å»ºï¼š `docusaurus_tag`ã€`language`ã€`lang`ã€`version`ã€`type`
5. å‘ç°ä½ å·²ç»è·å¾—äº†æœç´¢ç»“æœï¼Œå³ä¾¿æ˜¯ä¿æŒ[ä¸Šä¸‹æ–‡æœç´¢](#contextual-search)å¯ç”¨ä¹Ÿæ˜¯æœ‰çš„

### æ”¯æŒ {#algolia-support}

Algolia DocSearch å›¢é˜Ÿå¯ä»¥å¸®åŠ©ä½ è§£å†³ç½‘ç«™çš„æœç´¢é—®é¢˜ã€‚

ä½ å¯ä»¥é€šè¿‡[ä»–ä»¬çš„æ”¯æŒé¡µé¢](https://algolia.com/support)æˆ–åœ¨ [Discord](https://discord.gg/wr2m5j948P) ä¸Šè”ç³» Algoliaã€‚

Docusaurus åœ¨ [Discord](https://discordapp.com/invite/docusaurus) ä¸Šä¹Ÿæœ‰ä¸€ä¸ª `#algolia` é¢‘é“ã€‚

## ğŸ‘¥ ä½¿ç”¨ Typesense DocSearch {#using-typesense-docsearch}

[Typesense](https://typesense.org) DocSearch ç±»ä¼¼äº Algolia DocSearchï¼Œåªä¸è¿‡ä½ çš„ç½‘ç«™ä¼šè¢« Typesense æœç´¢é›†ç¾¤ç´¢å¼•ã€‚

Typesense æ˜¯ä¸€ä¸ª[å¼€æº](https://github.com/typesense/typesense)çš„å³æ—¶æœç´¢å¼•æ“ã€‚ä½ å¯ä»¥ï¼š

- åœ¨ä½ è‡ªå·±çš„æœåŠ¡å™¨ä¸Š[è‡ªæ‰˜ç®¡](https://typesense.org/docs/guide/install-typesense.html#option-2-local-machine-self-hosting)ï¼Œæˆ–æ˜¯
- ä½¿ç”¨æ‰˜ç®¡çš„ [Typesense äº‘](https://cloud.typesense.org)æœåŠ¡ã€‚

ä¸ Algolia DocSearch ç±»ä¼¼ï¼ŒTypesense åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š

- [typesense-docsearch-scraper](https://github.com/typesense/typesense-docsearch-scraper)ï¼šçˆ¬å–ä½ çš„ç½‘ç«™ï¼Œå¹¶åœ¨ä½ çš„ Typesense é›†ç¾¤ä¸­å»ºç«‹æ•°æ®ç´¢å¼•ã€‚
- [docusaurus-theme-search-typesense](https://github.com/typesense/docusaurus-theme-search-typesense)ï¼šä¸€ä¸ªæœç´¢æ ç•Œé¢ç»„ä»¶ï¼Œéœ€è¦æ·»åŠ åˆ°ä½ çš„ç½‘ç«™ã€‚

å‰å¾€æ­¤å¤„é˜…è¯»å¦‚ä½•[è¿è¡Œ typesense-docsearch-scraper](https://typesense.org/docs/guide/docsearch.html#step-1-set-up-docsearch-scraper)çš„é€æ­¥è§£é‡Šã€‚åŒæ—¶ï¼Œå‰å¾€æ­¤å¤„ä»¥é˜…è¯»å¦‚ä½•[åœ¨ä½ çš„ Docusaurus ç«™ç‚¹å®‰è£…æœç´¢æ ](https://typesense.org/docs/guide/docsearch.html#option-a-docusaurus-powered-sites)çš„é€æ­¥è§£é‡Šã€‚

## ğŸ‘¥ ä½¿ç”¨æœ¬åœ°æœç´¢ {#using-local-search}

å¯¹äºæœç´¢ç´¢å¼•æ¯”è¾ƒå°çš„ç½‘ç«™ï¼Œä½ å¯ä»¥ä½¿ç”¨æœ¬åœ°æœç´¢æ’ä»¶ã€‚ç´¢å¼•ä¼šåœ¨ç”¨æˆ·è®¿é—®ä½ çš„ç½‘ç«™æ—¶ä¸‹è½½åˆ°æµè§ˆå™¨ä¸­ã€‚

è¿™é‡Œåˆ—å‡ºäº†ä¸€äº›ç¤¾åŒºç»´æŠ¤çš„[æœ¬åœ°æœç´¢æ’ä»¶](https://docusaurus.io/community/resources#search)ã€‚

## ğŸ‘¥ ä½¿ç”¨ä½ è‡ªå·±çš„æœç´¢ {#using-your-own-search}

è¦ä½¿ç”¨ä½ è‡ªå·±çš„æœç´¢ï¼Œè¯· swizzle `@docusaurus/theme-classic` ä¸­çš„ `SearchBar` ç»„ä»¶ã€‚

```bash npm2yarn
npm run swizzle @docusaurus/theme-classic SearchBar
```

è¿™å°†åœ¨ä½ çš„é¡¹ç›®æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª `src/theme/SearchBar` æ–‡ä»¶ã€‚ é‡å¯ä½ çš„å¼€å‘æœåŠ¡å™¨ï¼Œç¼–è¾‘ç»„ä»¶ï¼Œä½ ä¼šçœ‹åˆ° Docusaurus å¼€å§‹ä½¿ç”¨ä½ è‡ªå·±çš„ `SearchBar` ç»„ä»¶äº†ã€‚

**å¤‡æ³¨**ï¼šä½ ä¹Ÿå¯ä»¥ [swizzle Algolia çš„ SearchBar](#editing-the-algolia-search-component)ï¼Œå¹¶ä»¥è¿™ä¸ªç»„ä»¶ä¸ºåŸºç¡€ï¼Œåˆ›å»ºä½ è‡ªå·±çš„æœç´¢ç»„ä»¶ã€‚
