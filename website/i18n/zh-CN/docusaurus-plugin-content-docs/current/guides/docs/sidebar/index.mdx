---
slug: /sidebar
---

# 侧边栏

创建侧边栏可以：

- 分组多篇**相关文档**
- 在每篇文档旁**显示侧边栏**
- 提供下一篇/上一篇按钮的**分页导航**

要在你的 Docusaurus 网站上使用侧边栏，只需两步：

1. 定义一个侧边栏文件，由它导出一个包含 [sidebar objects](#sidebar-object) 的字典。
2. 直接将这个对象传入 `@docusaurus/plugin-docs`，或者通过 `@docusaurus/preset-classic` 传入。

```js title="docusaurus.config.js"
export default {
  presets: [
    [
      '@docusaurus/preset-classic',
      {
        docs: {
          // highlight-next-line
          sidebarPath: './sidebars.js',
        },
      },
    ],
  ],
};
```

:::important Node.js runtime

侧边栏文件通过 Node.js 运行。 您不能在其中使用或导入浏览器 APIs、React 或 JSX。

:::

这个章节是文档侧边栏功能的一个总览。 在接下来的章节中，我们会系统地介绍下列概念：

```mdx-code-block
import DocCardList from '@theme/DocCardList';

<DocCardList />
```

## 默认侧边栏 {#default-sidebar}

如果没有给定 `sidebarPath`，Docusaurus 会根据 `docs` 文件夹的结构[自动生成侧边栏](autogenerated.mdx)。

```js title="sidebars.js"
export default {
  mySidebar: [
    {
      type: 'autogenerated',
      dirName: '.', // 从 docs 文件夹 (或 versioned_docs/<version>) 生成侧边栏
    },
  ],
};
```

你也可以显式定义你的侧边栏。

## 侧边栏对象 {#sidebar-object}

侧边栏简单来说就是由一些类别、文档链接、其他超链接组成的层级结构。

```ts
type Sidebar =
  // 普通语法
  | SidebarItem[]
  // 简写语法
  | {[categoryLabel: string]: SidebarItem[]};
```

举个例子：

```js title="sidebars.js"
export default {
  mySidebar: [
    {
      type: 'category',
      label: 'Getting Started',
      items: [
        {
          type: 'doc',
          id: 'doc1',
        },
      ],
    },
    {
      type: 'category',
      label: 'Docusaurus',
      items: [
        {
          type: 'doc',
          id: 'doc2',
        },
        {
          type: 'doc',
          id: 'doc3',
        },
      ],
    },
    {
      type: 'link',
      label: 'Learn more',
      href: 'https://example.com',
    },
  ],
};
```

这是一个导出了一个叫做 `mySidebar` 的侧边栏的文件。 它有三个顶层项目：两个类别和一个外部链接。 每个类别内部都有几个文档链接。

一个侧边栏文件可以包含[**多个侧边栏对象**](multiple-sidebars.mdx)，这些对象由其对象键标识。

```ts
type SidebarsFile = {
  [sidebarID: string]: Sidebar;
};
```

## 主题配置 {#theme-configuration}

### 可隐藏侧边栏 {#hideable-sidebar}

启用 `themeConfig.docs.sidebar.hideable` 选项后，你可以使整个侧边栏变得可隐藏，让用户能够更好地关注内容。 这对于中等屏幕大小（如平板）的读者来说格外有用。

```js title="docusaurus.config.js"
export default {
  themeConfig: {
    // highlight-start
    docs: {
      sidebar: {
        hideable: true,
      },
    },
    // highlight-end
  },
};
```

### 自动折叠侧边栏类别 {#auto-collapse-sidebar-categories}

`themeConfig.docs.sidebar.autoCollapseCategories` 选项会在扩展一个类别时折叠所有的同级类别。 这能让用户免于打开过多的菜单，帮助他们关注选定的部分。

```js title="docusaurus.config.js"
export default {
  themeConfig: {
    // highlight-start
    docs: {
      sidebar: {
        autoCollapseCategories: true,
      },
    },
    // highlight-end
  },
};
```

## 传递自定义属性 {#passing-custom-props}

要将自定义属性传递给侧边栏项目，请使用 `customProps` 字段。 这对于通过混合 React 组件呈现侧边栏项来应用网站自定义功能非常有用。

```js
{
  type: 'doc',
  id: 'doc1',
  // highlight-start
  customProps: {
    badges: ['new', 'green'],
    featured: true,
  },
  // highlight-end
};
```

## 侧边栏面包屑导航 {#sidebar-breadcrumbs}

面包屑导航默认会在页面顶端渲染。它用的是当前页面的「侧边栏路径」。

这个行为可以用插件选项禁用：

```js title="docusaurus.config.js"
export default {
  presets: [
    [
      '@docusaurus/preset-classic',
      {
        docs: {
          // highlight-next-line
          breadcrumbs: false,
        },
      },
    ],
  ],
};
```

## 复杂侧边栏示例 {#complex-sidebars-example}

来自 Docusaurus 网站的真实例子：

```mdx-code-block
import CodeBlock from '@theme/CodeBlock';

<CodeBlock language="js" title="sidebars.js">
  {require('!!raw-loader!@site/sidebars.ts')
    .default
    .split('\n')
    // remove comments
    .map((line) => !['//','/*','*'].some(commentPattern => line.trim().startsWith(commentPattern)) && line)
    .filter(Boolean)
    .join('\n')}
</CodeBlock>
```
