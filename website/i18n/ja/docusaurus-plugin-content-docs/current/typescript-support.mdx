---
description: DocusaurusはTypeScriptで書かれており、最上級クラスのTypeScriptサポートを提供します。
---

# TypeScript サポート

DocusaurusはTypeScriptで書かれており、最上級クラスのTypeScriptサポートを提供します。

The minimum required version is **TypeScript 5.1**.

## 初期設定 {#initialization}

Docusaurus は TypeScript を使ったテーマコンポーネントの作成とその使用をサポートしています。 If the init template provides a TypeScript variant, you can directly [initialize a site](./installation.mdx#scaffold-project-website) with full TypeScript support by using the `--typescript` flag.

```bash
npx create-docusaurus@latest my-website classic --typescript
```

以下は、既存のプロジェクトを TypeScript に移行する方法についてのガイドです。

## セットアップ {#setup}

Add the following packages to your project:

```bash npm2yarn
npm install --save-dev typescript @docusaurus/module-type-aliases @docusaurus/tsconfig @docusaurus/types
```

次に、 `tsconfig.json` をプロジェクトのルートに以下の内容で追加しましょう。

```json title="tsconfig.json"
{
  "extends": "@docusaurus/tsconfig",
  "compilerOptions": {
    "baseUrl": "."
  }
}
```

実際には、Docusaurus はプロジェクトをコンパイルするためにこの `tsconfig.json` を使用しません。 このファイルは、より良いエディタ体験のために追加されるにすぎません。 ただし、 `tsc` を実行して、自分でコードを確認するか、CIで確認するかを選択できます。

これで TypeScript のテーマコンポーネントを書き始めることができます。

## 設定ファイルを入力する {#typing-config}

It is possible to use a TypeScript config file in Docusaurus.

```ts title="docusaurus.config.ts"
import type {Config} from '@docusaurus/types';
import type * as Preset from '@docusaurus/preset-classic';

// highlight-next-line
const config: Config = {
  title: 'My Site',
  favicon: 'img/favicon.ico',

  /* Your site config here */

  presets: [
    [
      'classic',
      {
        /* Your preset config here */
        // highlight-next-line
      } satisfies Preset.Options,
    ],
  ],

  themeConfig: {
    /* Your theme config here */
    // highlight-next-line
  } satisfies Preset.ThemeConfig,
};

export default config;
```

<details>
  <summary>It is also possible to use [JSDoc type annotations](https://www.typescriptlang.org/docs/handbook/jsdoc-supported-types.html) within a `.js` file:</summary>

デフォルトでは、Docusaurus TypeScript の設定は JavaScript ファイルのタイプチェックをしません。

コメント `// @ts-check` を書くと、`npx tsc` 実行時に設定ファイルが適切に型チェックされることが保証されます。

```js title="docusaurus.config.js"
// highlight-next-line
// @ts-check

// highlight-next-line
/** @type {import('@docusaurus/types').Config} */
const config = {
  tagline: 'Dinosaurs are cool',
  favicon: 'img/favicon.ico',

  /* Your site config here */

  presets: [
    [
      '@docusaurus/preset-classic',
      // highlight-next-line
      /** @type {import('@docusaurus/preset-classic').Options} */
      (
        {
          /* Your preset config here */
        }
      ),
    ],
  ],
  themeConfig:
    // highlight-next-line
    /** @type {import('@docusaurus/preset-classic').ThemeConfig} */
    (
      {
        /* Your theme config here */
      }
    ),
};

export default config;
```

</details>

:::tip

型注釈は非常に便利で、IDE が設定オブジェクトの型を理解するのに役立ちます。

極上の IDE (VS Code、WebStorm、IntelliJなど) は、快適な自動補完体験を与えてくれます。

:::

## TypeScript テーマコンポーネントをスイズリングする {#swizzling-typescript-theme-components}

TypeScript テーマコンポーネントをサポートするテーマの場合、`--typescript` フラグを`swizzle`の最後に追加して、TypeScript のソースコードを取得できます。 たとえば、次のコマンドは `src/theme/Footer` 以下に `index.tsx` と `styles.module.css` を生成します。

```bash npm2yarn
npm run swizzle @docusaurus/theme-classic Footer -- --typescript
```

Docusaurus公式テーマは全て、[`theme-classic`](./api/themes/theme-classic.mdx)・[`theme-live-codeblock`](./api/themes/theme-live-codeblock.mdx)・[`theme-search-algolia`](./api/themes/theme-search-algolia.mdx)を含むTypeScriptテーマコンポーネントをサポートしています。 あなたがDocusaurusテーマパッケージの作成者で、TypeScriptに対応させたいと考えている場合、[ライフサイクルAPIの説明](./api/plugin-methods/extend-infrastructure.mdx#getTypeScriptThemePath)を参照してください。
