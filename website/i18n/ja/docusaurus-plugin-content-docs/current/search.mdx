---
keywords:
  - algolia
  - æ¤œç´¢
---

# æ¤œç´¢

ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«æ¤œç´¢æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹ã«ã¯ã€ã„ãã¤ã‹ã®é¸æŠè‚¢ãŒåˆ©ç”¨ã§ãã¾ã™ã€‚

- ğŸ¥‡ [Algolia DocSearch](#using-algolia-docsearch) (**å…¬å¼**)
- ğŸ‘¥ [Typesense DocSearch](#using-typesense-docsearch)
- ğŸ‘¥ [ãƒ­ãƒ¼ã‚«ãƒ«æ¤œç´¢](#using-local-search)
- ğŸ‘¥ [ç‹¬è‡ªã®`SearchBar`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](#using-your-own-search)

:::info

ğŸ¥‡ Docusaurusã¯ã€[Algolia DocSearch](#using-algolia-docsearch)ã«å¯¾ã—ã¦**æœ€é«˜ãƒ¬ãƒ™ãƒ«ã®ã‚µãƒãƒ¼ãƒˆ**ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚

ğŸ‘¥ ä»–ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯**ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ¼ã«ã‚ˆã‚Šãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã•ã‚Œã¦ã„ã¾ã™**ã€‚ãƒã‚°ã¯ãã‚Œãã‚Œã®ãƒªãƒã‚¸ãƒˆãƒªã«å ±å‘Šã—ã¦ãã ã•ã„ã€‚

:::

## ğŸ¥‡ Algolia DocSearchã‚’ä½¿ç”¨ã™ã‚‹ {#using-algolia-docsearch}

Docusaurusã¯ã€[Algolia DocSearch](https://docsearch.algolia.com)ã‚’**å…¬å¼ã‚µãƒãƒ¼ãƒˆ**ã—ã¦ã„ã¾ã™ã€‚

ã“ã®ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€ã™ã¹ã¦ã®é–‹ç™ºè€…ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚„æŠ€è¡“ãƒ–ãƒ­ã‚°ã§**ç„¡æ–™**ã§ä½¿ç”¨ã§ãã¾ã™ã€‚[ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ](https://docsearch.algolia.com/docs/who-can-apply/)ã‚’ç¢ºèªã—ã€[DocSearch programã«ç”³è«‹ã™ã‚‹](https://docsearch.algolia.com/apply)ã“ã¨ã‚’å¿˜ã‚Œãªã„ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚

DocSearchã¯ã‚ãªãŸã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’é€±ã«ä¸€åº¦å·¡å›(ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ã‚¦ã‚§ãƒ–ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‹ã‚‰è¨­å®šå¯èƒ½) ã—ã€ã™ã¹ã¦ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’Algoliaã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«é›†ç´„ã—ã¾ã™ã€‚ ã“ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯ã€Algolia APIã‚’ä½¿ç”¨ã—ã¦ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰ç›´æ¥ç…§ä¼šã•ã‚Œã¾ã™ã€‚

ã‚ãªãŸã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŒç„¡æ–™ã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ç‰ˆDocSearchã®[å¯¾è±¡å¤–](https://docsearch.algolia.com/docs/who-can-apply)ã§ã‚ã‚‹å ´åˆã€ã¾ãŸã¯ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆãŒãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ã®èƒŒå¾Œã«ã‚ã‚Šå…¬é–‹ã•ã‚Œã¦ã„ãªã„å ´åˆã¯ã€[ç‹¬è‡ªã®DocSearchã‚¯ãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’å®Ÿè¡Œ](https://docsearch.algolia.com/docs/run-your-own/)ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

:::note

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€Docusaurusã®ãƒ—ãƒªã‚»ãƒƒãƒˆã¯Algoliaã‚¯ãƒ­ãƒ¼ãƒ©ãƒ¼ãŒä½¿ç”¨ã§ãã‚‹ [sitemap.xml](https://docusaurus.io/sitemap.xml) ã‚’ç”Ÿæˆã—ã¾ã™ã€‚

:::

:::info å¤ã„docsearchã‹ã‚‰ã§ã™ã‹?

å¾“æ¥ã®DocSearchã‚¤ãƒ³ãƒ•ãƒ©ã‹ã‚‰ã®ç§»è¡Œã«ã¤ã„ã¦ã¯ã€[ãƒ–ãƒ­ã‚°è¨˜äº‹](/blog/2021/11/21/algolia-docsearch-migration)ã€ã¾ãŸã¯[DocSearchç§»è¡Œãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docsearch.algolia.com/docs/migrating-from-legacy)ã‚’ã”è¦§ãã ã•ã„ã€‚

:::

### ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­å®š {#algolia-index-configuration}

ã‚ãªãŸã®ç”³è«‹ãŒæ‰¿èªã•ã‚Œã€ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã‚‹ã¨ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«DocSearchã‚’è¿½åŠ ã™ã‚‹ãŸã‚ã®è©³ç´°æƒ…å ±ãŒè¨˜è¼‰ã•ã‚ŒãŸãƒ¡ãƒ¼ãƒ«ãŒå±Šãã¾ã™ã€‚ å·¡å›ã®ç·¨é›†ã¨ç®¡ç†ã¯ã€ [ã‚¦ã‚§ãƒ–ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹](https://crawler.algolia.com/)ã‚’ä»‹ã—ã¦è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¯ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã™ãã«åˆ©ç”¨å¯èƒ½ãªã®ã§ã€æ‰‹å‹•ã§ã®è¨­å®šã¯é€šå¸¸å¿…è¦ã‚ã‚Šã¾ã›ã‚“ã€‚

:::danger æ¨å¥¨ã‚¯ãƒ­ãƒ¼ãƒ©ãƒ¼è¨­å®šã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„

å…¬å¼ã®[**Docusaurus v3ã‚¯ãƒ­ãƒ¼ãƒ©ãƒ¼è¨­å®š**](https://docsearch.algolia.com/docs/templates/#docusaurus-v3-template)ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’å¼·ãæ¨å¥¨ã—ã¾ã™ã€‚ åˆ¥ã®ã‚¯ãƒ­ãƒ¼ãƒ©ãƒ¼è¨­å®šã‚’é¸æŠã—ãŸå ´åˆã€ã‚µãƒãƒ¼ãƒˆã‚’æä¾›ã§ãã¾ã›ã‚“ã€‚

:::

:::warning ã‚¯ãƒ­ãƒ¼ãƒ©ãƒ¼è¨­å®šã®æ›´æ–°æ™‚

ã‚¯ãƒ­ãƒ¼ãƒ©ãƒ¼è¨­å®šã«ã¯`initialIndexSettings`ãŒå«ã¾ã‚Œã¦ãŠã‚Šã€ã“ã‚Œã¯Algoliaã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒã¾ã å­˜åœ¨ã—ãªã„å ´åˆã«ã®ã¿åˆæœŸåŒ–ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚

`initialIndexSettings`ã®ã‚¯ãƒ­ãƒ¼ãƒ©ãƒ¼è¨­å®šã‚’æ›´æ–°ã—ãŸå ´åˆã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‹ã‚‰æ‰‹å‹•ã§æ›´æ–°ã™ã‚‹ã“ã¨ã¯å¯èƒ½ã§ã™ãŒã€[Algoliaãƒãƒ¼ãƒ ã¯ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’å‰Šé™¤ã—ã¦ã‹ã‚‰å·¡å›ã‚’å†å®Ÿè¡Œ](https://github.com/facebook/docusaurus/issues/9200#issuecomment-1667338492)ã—ã€æ–°ã—ã„è¨­å®šã§å®Œå…¨ã«å†åˆæœŸåŒ–ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¦ã„ã¾ã™ã€‚

:::

### Algoliaã®æ¥ç¶š {#connecting-algolia}

Docusaurusç‹¬è‡ªã®`@docusaurus/preset-classic`ã¯Algolia DocSearchã®çµ±åˆã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚ classicãƒ—ãƒªã‚»ãƒƒãƒˆã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€è¿½åŠ ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯ä¸è¦ã§ã™ã€‚

<details>
<summary><code>@docusaurus/preset-classic</code>ã‚’ä½¿ç”¨ã—ã¦ã„ãªã„å ´åˆã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †</summary>

1. ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹:

```bash npm2yarn
npm install --save @docusaurus/theme-search-algolia
```

2. ãƒ†ãƒ¼ãƒã‚’`docusaurus.config.js`ã«è¨­å®šã™ã‚‹:

```js title="docusaurus.config.js"
export default {
  title: 'è‡ªåˆ†ã®ã‚µã‚¤ãƒˆ',
  // ...
  themes: ['@docusaurus/theme-search-algolia'],
  themeConfig: {
    // ...
  },
};
```

</details>

æ¬¡ã«ã€`themeConfig`ã«`algolia`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ ã—ã¾ã™ã€‚ Algoliaã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¨APIã‚­ãƒ¼ã‚’å–å¾—ã™ã‚‹ã«ã¯ã€**[DocSearchã«ç”³ã—è¾¼ã¿](https://docsearch.algolia.com/apply/)**ã‚’è¡Œã£ã¦ãã ã•ã„ã€‚

```js title="docusaurus.config.js"
export default {
  // ...
  themeConfig: {
    // ...
    // highlight-start
    algolia: {
      // Algoliaã‹ã‚‰æä¾›ã•ã‚ŒãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ID
      appId: 'YOUR_APP_ID',

      // å…¬é–‹APIã‚­ãƒ¼ï¼ˆã‚³ãƒŸãƒƒãƒˆã—ã¦ã‚‚å®‰å…¨ï¼‰
      apiKey: 'YOUR_SEARCH_API_KEY',

      indexName: 'YOUR_INDEX_NAME',

      // ä»»æ„ï¼šä»¥ä¸‹ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§
      contextualSearch: true,

      // ä»»æ„ï¼šãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãŒhistory.pushã§ã¯ãªãwindow.locationã‚’ä½¿ç”¨ã™ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æŒ‡å®šã€‚ Algoliaã®è¨­å®šãŒè¤‡æ•°ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚µã‚¤ãƒˆã‚’ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã€window.location.hrefã§ãƒŠãƒ“ã‚²ãƒ¼ãƒˆã—ãŸã„å ´åˆã«ä¾¿åˆ©ã§ã™ã€‚
      externalUrlRegex: 'external\\.com|domain\\.com',

      // ä»»æ„ï¼šAlgoriaã®URLã€‚ åˆ¥ã®baseUrlã‚’ä½¿ç”¨ã—ã¦è¤‡æ•°ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã«åŒã˜æ¤œç´¢ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã«ä¾¿åˆ©ã§ã™ã€‚ `from`ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ã¯ã€æ­£è¦è¡¨ç¾ã¾ãŸã¯æ–‡å­—åˆ—ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚ ä¾‹ï¼šlocalhost:3000 vs myCompany.com/docs
      replaceSearchResultPathname: {
        from: '/docs/', // ã¾ãŸã¯æ­£è¦è¡¨ç¾ï¼š/\/docs\//
        to: '/',
      },

      // ä»»æ„ï¼šAlgoliaã®æ¤œç´¢ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
      searchParameters: {},

      // ä»»æ„ï¼šæ—¢å®šã§æœ‰åŠ¹åŒ–ã•ã‚Œã‚‹æ¤œç´¢ãƒšãƒ¼ã‚¸ã®ãƒ‘ã‚¹ï¼ˆ`false`ã§ç„¡åŠ¹åŒ–ï¼‰
      searchPagePath: 'search',

      // ä»»æ„ï¼šDocSearchã®ã‚¤ãƒ³ã‚µã‚¤ãƒˆæ©Ÿèƒ½ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã‹ã©ã†ã‹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯`false`ï¼‰
      insights: false,

      //... ãã®ä»–ã®Algoriaãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
    },
    // highlight-end
  },
};
```

:::info

`searchParameters`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯Docusaurus v1ã§ã¯`algoliaOptions`ã¨å‘¼ã°ã‚Œã¦ã„ã¾ã—ãŸã€‚

å¯èƒ½ãªå€¤ã«ã¤ã„ã¦ã¯ã€[DocSearch ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docsearch.algolia.com/docs/api#searchparameters)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

:::

:::warning

AlgoliaãŒã‚µã‚¤ãƒˆã‚’ã‚¯ãƒ­ãƒ¼ãƒ«ã™ã‚‹ã¾ã§ã€æ¤œç´¢æ©Ÿèƒ½ã¯æ©Ÿèƒ½ã—ã¾ã›ã‚“ã€‚

å¤§å¹…ãªå¤‰æ›´å¾Œã«æ¤œç´¢ãŒæ©Ÿèƒ½ã—ãªã„å ´åˆã¯ã€Algoliaãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã€**æ–°ã—ã„å·¡å›**ã‚’é–‹å§‹ã•ã›ã¦ãã ã•ã„ã€‚

:::

### æ–‡è„ˆæ¤œç´¢ {#contextual-search}

æ–‡è„ˆæ¤œç´¢ã¯**åˆæœŸçŠ¶æ…‹ã§ã¯æœ‰åŠ¹ã§ã™**ã€‚

ã“ã‚Œã«ã‚ˆã‚Šã€æ¤œç´¢çµæœãŒ**ç¾åœ¨ã®è¨€èªã¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«é–¢é€£ã™ã‚‹ã‚‚ã®ã«ãªã‚Šã¾ã™**ã€‚

```js title="docusaurus.config.js"
export default {
  // ...
  themeConfig: {
    // ...
    // highlight-start
    algolia: {
      contextualSearch: true,
    },
    // highlight-end
  },
};
```

ãŸã¨ãˆã°ã€2ã¤ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆ**v1**ã¨**v2**ï¼‰ãŠã‚ˆã³2ã¤ã®è¨€èªï¼ˆ`en`ã¨`fr`ï¼‰ãŒã‚ã‚‹ã¨ã—ã¾ã™ã€‚

v2ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’é–²è¦§ã—ã¦ã„ã‚‹ã¨ãã«ã€v1ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ¤œç´¢çµæœãŒè¿”ã•ã‚Œã‚‹ã®ã¯ãŠã‹ã—ã„ã§ã™ã€‚ æ™‚ã«ã¯v1ã¨v2ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒéå¸¸ã«ä¼¼ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‚Šã€åŒã˜ã‚¯ã‚¨ãƒªã«å¯¾ã—ã¦é‡è¤‡ã™ã‚‹æ¤œç´¢çµæœï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ã”ã¨ã«1ã¤ã®çµæœï¼‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚

åŒæ§˜ã«ã€ãƒ•ãƒ©ãƒ³ã‚¹èªã®ã‚µã‚¤ãƒˆã‚’é–²è¦§ã—ã¦ã„ã‚‹ã¨ãã«ã€è‹±èªã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ¤œç´¢çµæœãŒè¿”ã•ã‚Œã‚‹ã®ã¯ãŠã‹ã—ã„ã§ã™ã€‚

ã“ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«ã€æ–‡è„ˆæ¤œç´¢æ©Ÿèƒ½ã¯ã€ç‰¹å®šã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨è¨€èªã‚’é–²è¦§ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç†è§£ã—ã€æ¤œç´¢ã‚¯ã‚¨ãƒªãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’å‹•çš„ã«ä½œæˆã—ã¾ã™ã€‚

- `/en/docs/v1/myDoc`ã§ã®æ¤œç´¢çµæœã«ã¯ã€**è‹±èª**ã®**v1**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆãƒ»ä»–ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³åŒ–ã•ã‚Œã¦ã„ãªã„ãƒšãƒ¼ã‚¸ï¼‰ã®çµæœã®ã¿ãŒå«ã¾ã‚Œã¾ã™ã€‚
- `/fr/docs/v2/myDoc`ã§ã®æ¤œç´¢çµæœã«ã¯ã€**ãƒ•ãƒ©ãƒ³ã‚¹èª**ã®**v2** ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆãƒ»ä»–ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³åŒ–ã•ã‚Œã¦ã„ãªã„ãƒšãƒ¼ã‚¸ï¼‰ã®çµæœã®ã¿ãŒå«ã¾ã‚Œã¾ã™ã€‚

:::info

`contextualSearch: true`ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚»ãƒƒãƒˆãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã¯`algolia.searchParameters.facetFilters`ã§æä¾›ã•ã‚ŒãŸã‚‚ã®ã¨ãƒãƒ¼ã‚¸ã•ã‚Œã¾ã™ã€‚

ç‰¹å®šã®ãƒ‹ãƒ¼ã‚ºã«åˆã‚ã›ã¦ã€æ¬¡ã®ã‚ˆã†ã«`contextualSearch`ã‚’ç„¡åŠ¹ã«ã—ã¦ç‹¬è‡ªã®`facetFilters`ã‚’å®šç¾©ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```js title="docusaurus.config.js"
export default {
  // ...
  themeConfig: {
    // ...
    // highlight-start
    algolia: {
      contextualSearch: false,
      searchParameters: {
        facetFilters: ['language:en', ['filter1', 'filter2'], 'filter3'],
      },
    },
    // highlight-end
  },
};
```

é–¢é€£ã™ã‚‹[Algoliaãƒ•ã‚¡ã‚»ãƒƒãƒˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://www.algolia.com/doc/guides/managing-results/refine-results/faceting/)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

:::

:::warning æ–‡è„ˆæ¤œç´¢ãŒæ©Ÿèƒ½ã—ãªã„å ´åˆ

æ–‡è„ˆæ¤œç´¢ã‚’ç„¡åŠ¹ã«ã—ãŸã¨ãã«ã®ã¿æ¤œç´¢çµæœãŒè¡¨ç¤ºã•ã‚Œã‚‹å ´åˆã€ã“ã‚Œã¯[ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­å®šã®å•é¡Œ](#algolia-no-search-results)ãŒåŸå› ã§ã‚ã‚‹å¯èƒ½æ€§ãŒéå¸¸ã«é«˜ã„ã§ã™ã€‚

:::

### Algoliaæ¤œç´¢ã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° {#styling-your-algolia-search}

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€DocSearchã«ã¯ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã®ãŸã‚ã«å¾®èª¿æ•´ã•ã‚ŒãŸãƒ†ãƒ¼ãƒãŒä»˜å±ã—ã¦ãŠã‚Šã€è‰²ã¨ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãŒåŸºæº–ã‚’éµå®ˆã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ã„ã¾ã™ã€‚

ãã‚Œã§ã‚‚ã€`/src/css/custom.css` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã€Docusaurus ã® [Infima CSS å¤‰æ•°](styling-layout.mdx#styling-your-site-with-infima) ã‚’å†åˆ©ç”¨ã—ã¦ DocSearch ã‚’ã‚¹ã‚¿ã‚¤ãƒ«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```css title="/src/css/custom.css"
[data-theme='light'] .DocSearch {
  /* --docsearch-primary-color: var(--ifm-color-primary); */
  /* --docsearch-text-color: var(--ifm-font-color-base); */
  --docsearch-muted-color: var(--ifm-color-secondary-darkest);
  --docsearch-container-background: rgba(94, 100, 112, 0.7);
  /* ãƒ¢ãƒ¼ãƒ€ãƒ« */
  --docsearch-modal-background: var(--ifm-color-secondary-lighter);
  /* æ¤œç´¢ãƒœãƒƒã‚¯ã‚¹ */
  --docsearch-searchbox-background: var(--ifm-color-secondary);
  --docsearch-searchbox-focus-background: var(--ifm-color-white);
  /* ãƒ’ãƒƒãƒˆ */
  --docsearch-hit-color: var(--ifm-font-color-base);
  --docsearch-hit-active-color: var(--ifm-color-white);
  --docsearch-hit-background: var(--ifm-color-white);
  /* ãƒ•ãƒƒã‚¿ */
  --docsearch-footer-background: var(--ifm-color-white);
}

[data-theme='dark'] .DocSearch {
  --docsearch-text-color: var(--ifm-font-color-base);
  --docsearch-muted-color: var(--ifm-color-secondary-darkest);
  --docsearch-container-background: rgba(47, 55, 69, 0.7);
  /* ãƒ¢ãƒ¼ãƒ€ãƒ« */
  --docsearch-modal-background: var(--ifm-background-color);
  /* æ¤œç´¢ãƒœãƒƒã‚¯ã‚¹ */
  --docsearch-searchbox-background: var(--ifm-background-color);
  --docsearch-searchbox-focus-background: var(--ifm-color-black);
  /* ãƒ’ãƒƒãƒˆ */
  --docsearch-hit-color: var(--ifm-font-color-base);
  --docsearch-hit-active-color: var(--ifm-color-white);
  --docsearch-hit-background: var(--ifm-color-emphasis-100);
  /* ãƒ•ãƒƒã‚¿ */
  --docsearch-footer-background: var(--ifm-background-surface-color);
  --docsearch-key-gradient: linear-gradient(
    -26.5deg,
    var(--ifm-color-emphasis-200) 0%,
    var(--ifm-color-emphasis-100) 100%
  );
}
```

### Algoliaã®æ¤œç´¢å‹•ä½œã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º {#customizing-the-algolia-search-behavior}

Algolia DocSearch supports a [list of options](https://docsearch.algolia.com/docs/api/) that you can pass to the `algolia` field in the `docusaurus.config.js` file.

```js title="docusaurus.config.js"
export default {
  themeConfig: {
    // ...
    algolia: {
      apiKey: 'YOUR_API_KEY',
      indexName: 'YOUR_INDEX_NAME',
      // ã‚ªãƒ—ã‚·ãƒ§ãƒ³...
    },
  },
};
```

### Algoliaæ¤œç´¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ç·¨é›† {#editing-the-algolia-search-component}

Algoliaæ¤œç´¢ã®Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç·¨é›†ã—ãŸã„å ´åˆã¯ã€`@docusaurus/theme-search-algolia`ã®`SearchBar`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’[ã‚¹ã‚¦ã‚£ã‚ºãƒªãƒ³ã‚°](swizzling.mdx)ã—ã¦ãã ã•ã„ã€‚

```bash npm2yarn
npm run swizzle @docusaurus/theme-search-algolia SearchBar
```

### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° {#algolia-troubleshooting}

Docusaurus ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ Algolia DocSearch ã‚’ä½¿ç”¨ã™ã‚‹éš›ã«é­é‡ã™ã‚‹æœ€ã‚‚ã‚ˆãã‚ã‚‹å•é¡Œã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

#### æ¤œç´¢çµæœãŒãªã„ {#algolia-no-search-results}

æ¤œç´¢çµæœãŒãªã„å ´åˆã€ãŸã„ã¦ã„ã¯**ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®è¨­å®šã®å•é¡Œ**ã«ã‚ˆã‚‹ã‚‚ã®ã§ã™ã€‚

<details>
  <summary>è¨­å®šã«å•é¡ŒãŒã‚ã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèªã™ã‚‹æ–¹æ³•ã¯?</summary>

Docusaurus uses [Algolia faceting](https://www.algolia.com/doc/guides/managing-results/refine-results/faceting/) for its [Contextual Search](#contextual-search) feature, to create dynamic queries such as:

```json
[
  "language:en",
  [
    "docusaurus_tag:default",
    "docusaurus_tag:docs-default-3.2.1",
    "docusaurus_tag:docs-community-current",
    "docusaurus_tag:docs-docs-tests-current"
  ]
]
```

On the Algolia UI, your index should allow to create facet queries on fields `docusaurus_tag`, `language`, `lang`, `version`, `type`, as shown in the screenshot below:

![Algolia index showing appropriate faceting fields](/img/docsearch-troubleshoot-index-facets.jpg)

Alternatively, if you disable [Contextual Search](#contextual-search) with `{contextualSearch: false}` (which we don't particularly recommend), Docusaurus will not use facet queries, and you should start seeing results.

</details>

:::danger Use the recommended configuration

We [recommend a specific crawler configuration](#algolia-index-configuration) for a good reason. We cannot support you if you choose to use a different configuration.

:::

You can fix index configuration problems by following those steps:

1. Use the [recommend crawler configuration](#algolia-index-configuration)
2. Delete your index through the UI
3. Trigger a new crawl through the UI
4. Check your index is recreated with the appropriate faceting fields: `docusaurus_tag`, `language`, `lang`, `version`, `type`
5. See that you now get search results, even with [Contextual Search](#contextual-search) enabled

### ã‚µãƒãƒ¼ãƒˆ {#algolia-support}

The Algolia DocSearch team can help you figure out search problems on your site.

You can reach out to Algolia via [their support page](https://algolia.com/support) or on [Discord](https://discord.gg/wr2m5j948P).

Docusaurus also has an `#algolia` channel on [Discord](https://discordapp.com/invite/docusaurus).

## ğŸ‘¥ Typesense DocSearchã‚’ä½¿ç”¨ã™ã‚‹ {#using-typesense-docsearch}

[Typesense](https://typesense.org) DocSearch works similar to Algolia DocSearch, except that your website is indexed into a Typesense search cluster.

Typesense is an [open source](https://github.com/typesense/typesense) instant-search engine that you can either:

- [Self-Host](https://typesense.org/docs/guide/install-typesense.html#option-2-local-machine-self-hosting) on your own servers or
- Use the Managed [Typesense Cloud](https://cloud.typesense.org) service.

Similar to Algolia DocSearch, there are two components:

- [typesense-docsearch-scraper](https://github.com/typesense/typesense-docsearch-scraper) - which scrapes your website and indexes the data in your Typesense cluster.
- [docusaurus-theme-search-typesense](https://github.com/typesense/docusaurus-theme-search-typesense) - a search bar UI component to add to your website.

Read a step-by-step walk-through of how to [run typesense-docsearch-scraper here](https://typesense.org/docs/guide/docsearch.html#step-1-set-up-docsearch-scraper) and how to [install the Search Bar in your Docusaurus Site here](https://typesense.org/docs/guide/docsearch.html#option-a-docusaurus-powered-sites).

## ğŸ‘¥ ãƒ­ãƒ¼ã‚«ãƒ«æ¤œç´¢ã‚’ä½¿ç”¨ã™ã‚‹ {#using-local-search}

æ¤œç´¢ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒå°ã•ãã€ãƒ¦ãƒ¼ã‚¶ãŒã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã¨ãã«ãƒ–ãƒ©ã‚¦ã‚¶ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã›ã‚‰ã‚Œã‚‹ã‚ˆã†ãªã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«å¯¾ã—ã¦ã¯ã€ãƒ­ãƒ¼ã‚«ãƒ«æ¤œç´¢ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

You'll find a list of community-supported [local search plugins listed here](https://docusaurus.io/community/resources#search).

## ğŸ‘¥ ç‹¬è‡ªã®æ¤œç´¢æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹ {#using-your-own-search}

ç‹¬è‡ªã®æ¤œç´¢æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€`@docusaurus/theme-classic`å†…ã®`SearchBar`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚¹ã‚¦ã‚£ã‚ºãƒªãƒ³ã‚°ã—ã¦ãã ã•ã„ã€‚

```bash npm2yarn
npm run swizzle @docusaurus/theme-classic SearchBar
```

ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€å†…ã«`src/theme/SearchBar`ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œã¾ã™ã€‚ é–‹ç™ºã‚µãƒ¼ãƒã‚’å†èµ·å‹•ã—ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç·¨é›†ã™ã‚Œã°ã€DocusaurusãŒç‹¬è‡ªã®`SearchBar`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã™ã€‚

**æ³¨**ï¼šä»£ã‚ã‚Šã«ã€[Algolia SearchBarã‹ã‚‰ã‚¹ã‚¦ã‚£ã‚ºãƒªãƒ³ã‚°ã‚’è¡Œã„](#editing-the-algolia-search-component)ã€ãã“ã‹ã‚‰ç‹¬è‡ªã®æ¤œç´¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚
