"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["17203"],{80944:function(e,s,n){n.d(s,{A:()=>o});let o={browserWindow:"browserWindow_my1Q",browserWindowHeader:"browserWindowHeader_jXSR",row:"row_KZDM",buttons:"buttons_uHc7",right:"right_oyze",browserWindowAddressBar:"browserWindowAddressBar_Pd8y",dot:"dot_giz1",browserWindowMenuIcon:"browserWindowMenuIcon_Vhuh",bar:"bar_rrRL",browserWindowBody:"browserWindowBody_Idgs"}},29321:function(e,s,n){n.d(s,{A:()=>o});let o=n.p+"assets/images/social-card-e8a5c83b31b6ac5bb461df1568d7577f.png"},50667:function(e,s,n){n.d(s,{A:()=>o});let o=n.p+"assets/images/askai-0443fb4e7ddd4420f61d87c5a10d9be6.png"},32182:function(e,s,n){n.d(s,{A:()=>o});let o=n.p+"assets/images/social-card-e8a5c83b31b6ac5bb461df1568d7577f.png"},42436:function(e,s,n){n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>t,metadata:()=>o,toc:()=>c});var o=n(49898),r=n(74848),a=n(56151),i=n(52903);let t={title:"Docusaurus 3.9",authors:["slorber"],tags:["release"],image:"./img/social-card.png",date:new Date("2025-09-25T00:00:00.000Z")},l,d={image:n(29321).A,authorsImageUrls:[void 0]},c=[{value:"Dropping Node.js 18",id:"dropping-nodejs-18",level:2},{value:"DocSearch v4",id:"docsearch-v4",level:2},{value:"i18n improvements",id:"i18n-improvements",level:2},{value:"Mermaid ELK layouts",id:"mermaid-elk-layouts",level:2},{value:"Translations",id:"translations",level:2},{value:"Other changes",id:"other-changes",level:2}];function h(e){let s={a:"a",admonition:"admonition",code:"code",h2:"h2",img:"img",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.p,{children:["We are happy to announce ",(0,r.jsx)(s.strong,{children:"Docusaurus 3.9"}),"."]}),"\n",(0,r.jsx)(s.p,{children:"This release drops support for Node.js 18, adds support for Algolia DocSearch v4 with AskAI, improves i18n support, adds Mermaid ELK layout support, and comes with various other improvements and bug fixes."}),"\n",(0,r.jsxs)(s.p,{children:["Upgrading is easy. We follow ",(0,r.jsx)(s.a,{href:"https://semver.org/",children:"Semantic Versioning"}),", and minor version updates have ",(0,r.jsx)(s.strong,{children:"no breaking changes"}),", accordingly to our ",(0,r.jsx)(s.a,{href:"/community/release-process",children:"release process"}),". Note that ",(0,r.jsx)(s.strong,{children:"we consider dropping End-of-Life Node.js versions as non-breaking changes"}),"."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"Docusaurus blog post social card",src:n(32182).A+"",width:"1200",height:"600"})}),"\n","\n","\n",(0,r.jsx)(s.h2,{id:"dropping-nodejs-18",children:"Dropping Node.js 18"}),"\n",(0,r.jsxs)(s.p,{children:["In ",(0,r.jsx)(s.a,{href:"https://github.com/facebook/docusaurus/pull/11408",children:"#11408"}),", we have dropped support for Node.js 18, and the new minimum required Node.js version is now v20.0."]}),"\n",(0,r.jsxs)(s.p,{children:["Although it may look like a runtime requirement breaking change, Node.js 18 reached ",(0,r.jsx)(s.a,{href:"https://nodejs.org/en/about/releases/",children:"End-of-Life"}),". It ",(0,r.jsx)(s.a,{href:"https://nodejs.org/en/blog/announcements/node-18-eol-support",children:"won't receive security updates"}),", and you shouldn't use it anymore. Dropping End-of-Life versions of Node.js on minor version releases is a common practice in the Node.js ecosystem, that we now officially endorse and document on our ",(0,r.jsx)(s.a,{href:"/community/release-process#nodejs-support",children:"release process"}),"."]}),"\n",(0,r.jsx)(s.p,{children:"This upgrade is further motivated by our dependencies:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Some of our dependencies now only receive security patches on newer versions that do not support Node.js 18 anymore. See, for example, this ",(0,r.jsxs)(s.a,{href:"https://github.com/facebook/docusaurus/pull/11410",children:[(0,r.jsx)(s.code,{children:"webpack-dev-server@4"})," security warning"]}),". To keep the Docusaurus v3 release line secure for our users, for both the runtime and third-party dependencies, the upgrade is necessary."]}),"\n",(0,r.jsxs)(s.li,{children:["Some of our dependencies are also dropping support for Node.js 18 in minor releases, transitively impacting Docusaurus runtime requirements. For example, ",(0,r.jsx)(s.a,{href:"https://rspack.rs/blog/announcing-1-5",children:"Rspack 1.5 now requires Node.js 18.12"}),", while Docusaurus v3 initially supported Node.js 18.0."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"docsearch-v4",children:"DocSearch v4"}),"\n",(0,r.jsxs)(s.p,{children:["In ",(0,r.jsx)(s.a,{href:"https://github.com/facebook/docusaurus/pull/11327",children:"#11327"})," and ",(0,r.jsx)(s.a,{href:"https://github.com/facebook/docusaurus/pull/11421",children:"#11421"}),", we added support for Algolia DocSearch v4. This new version comes with ",(0,r.jsx)(s.a,{href:"https://docsearch.algolia.com/docs/v4/askai",children:"AskAI"})," support, letting you add an AI-powered search assistant to your Docusaurus site that can answer questions based on what's in your documentation with a conversational experience."]}),"\n",(0,r.jsx)(i.A,{url:"http://localhost:3000/",bodyStyle:{padding:0,fontSize:0},children:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.img,{alt:"Algolia DocSearch v4 - Ask AI screenshot",src:n(50667).A+"",width:"1230",height:"716"})})}),"\n",(0,r.jsxs)(s.admonition,{title:"DocSearch v4 is opt-in",type:"tip",children:[(0,r.jsx)(s.p,{children:"Docusaurus v3 adds support for DocSearch v4 while keeping support for DocSearch v3."}),(0,r.jsxs)(s.p,{children:["Existing sites using DocSearch v3 can either stay on v3 or upgrade to v4 using their package manager (npm command: ",(0,r.jsx)(s.code,{children:"npm update @docsearch/react"}),")."]}),(0,r.jsxs)(s.p,{children:["When using DocSearch v4, the new AskAI feature is not enabled by default: you also need to ",(0,r.jsx)(s.a,{href:"https://docsearch.algolia.com/docs/v4/askai/",children:"create an AskAI assistant"})," and add it to the ",(0,r.jsxs)(s.a,{href:"/docs/search#ask-ai",children:[(0,r.jsx)(s.code,{children:"themeConfig.algolia.askAi"})," config attribute"]}),"."]})]}),"\n",(0,r.jsx)(s.h2,{id:"i18n-improvements",children:"i18n improvements"}),"\n",(0,r.jsxs)(s.p,{children:["In ",(0,r.jsx)(s.a,{href:"https://github.com/facebook/docusaurus/pull/11316",children:"#11316"}),", we added new ",(0,r.jsx)(s.code,{children:"i18n.localeConfigs[locale].{url,baseUrl}"})," config options to better support complex and multi-domain i18n deployments. Previously, Docusaurus relied on hard-coded heuristics that made sense for most i18n projects, but weren't flexible enough to accommodate all use cases, leading UX and SEO issues. It is now possible to configure each locale's deployment URL and base URL independently, overriding the default values inferred by Docusaurus:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ts",metastring:'title="docusaurus.config.js"',children:"export default {\n  i18n: {\n    defaultLocale: 'en',\n    locales: ['en', 'fr'],\n    localeConfigs: {\n      en: {\n        // highlight-start\n        url: 'https://en.docusaurus.io',\n        baseUrl: '/',\n        // highlight-end\n      },\n      fr: {\n        // highlight-start\n        url: 'https://fr.docusaurus.io',\n        baseUrl: '/',\n        // highlight-end\n      },\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(s.p,{children:["In ",(0,r.jsx)(s.a,{href:"https://github.com/facebook/docusaurus/pull/11304",children:"#11304"}),", we optimized our i18n infrastructure with a new ",(0,r.jsx)(s.code,{children:"i18n.localeConfigs[locale].translate"})," flag that is now ",(0,r.jsx)(s.code,{children:"false"})," by default for sites that do not use any translations. This leads to an improved dev experience and faster builds for non-i18n sites by avoiding unnecessary file system read attempts of the ",(0,r.jsx)(s.code,{children:"i18n"})," directory."]}),"\n",(0,r.jsxs)(s.p,{children:["In ",(0,r.jsx)(s.a,{href:"https://github.com/facebook/docusaurus/pull/11228",children:"#11228"}),", we added a new ",(0,r.jsx)(s.code,{children:"key"})," attribute to the docs sidebar items, allowing to assign explicit translation keys to each sidebar item that use the same label and would otherwise lead to translation key conflicts:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ts",metastring:'title="sidebars.js"',children:"export default {\n  sidebar: [\n    {\n      type: 'category',\n      label: 'API',\n      // highlight-next-line\n      key: 'api-for-feature-1',\n      items: [],\n    },\n    {\n      type: 'category',\n      label: 'API',\n      // highlight-next-line\n      key: 'api-for-feature-2',\n      items: [],\n    },\n  ],\n};\n"})}),"\n",(0,r.jsx)(s.h2,{id:"mermaid-elk-layouts",children:"Mermaid ELK layouts"}),"\n",(0,r.jsxs)(s.p,{children:["In ",(0,r.jsx)(s.a,{href:"https://github.com/facebook/docusaurus/pull/11357",children:"#11357"}),", we added support for ",(0,r.jsx)(s.a,{href:"https://mermaid.js.org/intro/syntax-reference.html#supported-layout-algorithms",children:"Mermaid ELK layout algorithm"}),", based on the ",(0,r.jsx)(s.a,{href:"https://www.eclipse.org/elk/",children:"Eclipse Layout Kernel (ELK)"}),". Compared to the default Dagre layout, it provides more sophisticated layout capabilities and configuration options, especially useful when working with large or intricate diagrams."]}),"\n",(0,r.jsxs)(s.p,{children:["You can enable it by adding the extra ",(0,r.jsx)(s.code,{children:"@mermaid-js/layout-elk"})," npm dependency, making it possible to use the ",(0,r.jsx)(s.code,{children:"layout: elk"})," Mermaid diagram metadata:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-md",children:"```mermaid\n---\nconfig:\n# highlight-next-line\n  layout: elk\n---\nerDiagram\n    CUSTOMER ||--o{ ORDER : places\n    ORDER ||--|{ LINE-ITEM : contains\n    CUSTOMER }|..|{ DELIVERY-ADDRESS : uses\n```\n"})}),"\n",(0,r.jsx)(s.mermaid,{value:"---\nconfig:\n  layout: elk\n---\nerDiagram\n    CUSTOMER ||--o{ ORDER : places\n    ORDER ||--|{ LINE-ITEM : contains\n    CUSTOMER }|..|{ DELIVERY-ADDRESS : uses"}),"\n",(0,r.jsx)(s.h2,{id:"translations",children:"Translations"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\u{1F1E7}\u{1F1F7} ",(0,r.jsx)(s.a,{href:"https://github.com/facebook/docusaurus/pull/11315",children:"#11315"}),": Add missing Brazilian Portuguese theme translations."]}),"\n",(0,r.jsxs)(s.li,{children:["\u{1F1FA}\u{1F1E6} ",(0,r.jsx)(s.a,{href:"https://github.com/facebook/docusaurus/pull/11305",children:"#11305"}),": Add missing Ukrainian theme translations."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"other-changes",children:"Other changes"}),"\n",(0,r.jsx)(s.p,{children:"Other notable changes include:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["In ",(0,r.jsx)(s.a,{href:"https://github.com/facebook/docusaurus/pull/11283",children:"#11283"}),", we added ",(0,r.jsx)(s.code,{children:"siteConfig.markdown.hooks.{onBrokenMarkdownLinks,onBrokenMarkdownImages}"})," and deprecated ",(0,r.jsx)(s.code,{children:"siteConfig.onBrokenMarkdownLinks"}),". The new callback hooks also let you recover from broken links/images by returning a fallback URL."]}),"\n",(0,r.jsxs)(s.li,{children:["In ",(0,r.jsx)(s.a,{href:"https://github.com/facebook/docusaurus/pull/11282",children:"#11282"}),", we added the ",(0,r.jsx)(s.code,{children:"siteConfig.markdown.emoji"})," config option to disable the previously hard-coded ",(0,r.jsx)(s.code,{children:"remark-emoji"})," behavior."]}),"\n",(0,r.jsxs)(s.li,{children:["In ",(0,r.jsx)(s.a,{href:"https://github.com/facebook/docusaurus/pull/11397",children:"#11397"}),", we can now resolve site-aliased Markdown links starting with ",(0,r.jsx)(s.code,{children:"@site/*"}),", that we already supported for ES imports."]}),"\n",(0,r.jsxs)(s.li,{children:["In ",(0,r.jsx)(s.a,{href:"https://github.com/facebook/docusaurus/pull/11294",children:"#11294"})," and ",(0,r.jsx)(s.a,{href:"https://github.com/facebook/docusaurus/pull/11415",children:"#11415"}),", we upgraded to Rspack 1.5 and leveraging new Rspack config options to make Docusaurus build faster."]}),"\n",(0,r.jsxs)(s.li,{children:["In ",(0,r.jsx)(s.a,{href:"https://github.com/facebook/docusaurus/pull/11356",children:"#11356"}),", we improved the display of docs sidebar items with long labels."]}),"\n",(0,r.jsxs)(s.li,{children:["In ",(0,r.jsx)(s.a,{href:"https://github.com/facebook/docusaurus/pull/11405",children:"#11405"}),", we improved visual glitches caused by the ",(0,r.jsx)(s.code,{children:"useColorMode()"})," hook when switching color modes, glitches that also affected your site's logo in the navbar."]}),"\n",(0,r.jsxs)(s.li,{children:["In ",(0,r.jsx)(s.a,{href:"https://github.com/facebook/docusaurus/pull/11383",children:"#11383"}),", we disabled a Docusaurus Faster HTML minifier optimization that prevents your site's social card from displaying properly on some social platforms (e.g., LinkedIn)."]}),"\n",(0,r.jsxs)(s.li,{children:["In ",(0,r.jsx)(s.a,{href:"https://github.com/facebook/docusaurus/pull/11425",children:"#11425"}),", we added the ability for blog authors to display an email icon with a ",(0,r.jsx)(s.code,{children:"mailto:"})," link (",(0,r.jsx)(s.code,{children:"author.socials.email"}),")."]}),"\n",(0,r.jsxs)(s.li,{children:["In ",(0,r.jsx)(s.a,{href:"https://github.com/facebook/docusaurus/pull/11422",children:"#11422"}),", we removed the ",(0,r.jsx)(s.code,{children:"copy-text-to-clipboard"})," in favor of the native ",(0,r.jsx)(s.code,{children:"navigator.clipboard"})," API."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Check the ",(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.a,{href:"/changelog/3.9.0",children:"3.9.0 changelog entry"})})," for an exhaustive list of changes."]})]})}function u(e={}){let{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},52903:function(e,s,n){n.d(s,{A:()=>i});var o=n(74848);n(96540);var r=n(11118),a=n(80944);function i({children:e,minHeight:s,url:n="http://localhost:3000",style:i,bodyStyle:t}){return(0,o.jsxs)("div",{className:a.A.browserWindow,style:{...i,minHeight:s},children:[(0,o.jsxs)("div",{className:a.A.browserWindowHeader,children:[(0,o.jsxs)("div",{className:a.A.buttons,children:[(0,o.jsx)("span",{className:a.A.dot,style:{background:"#f25f58"}}),(0,o.jsx)("span",{className:a.A.dot,style:{background:"#fbbe3c"}}),(0,o.jsx)("span",{className:a.A.dot,style:{background:"#58cb42"}})]}),(0,o.jsx)("div",{className:(0,r.A)(a.A.browserWindowAddressBar,"text--truncate"),children:n}),(0,o.jsx)("div",{className:a.A.browserWindowMenuIcon,children:(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:a.A.bar}),(0,o.jsx)("span",{className:a.A.bar}),(0,o.jsx)("span",{className:a.A.bar})]})})]}),(0,o.jsx)("div",{className:a.A.browserWindowBody,style:t,children:e})]})}},56151:function(e,s,n){n.d(s,{R:()=>i,x:()=>t});var o=n(96540);let r={},a=o.createContext(r);function i(e){let s=o.useContext(a);return o.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),o.createElement(a.Provider,{value:s},e.children)}},49898:function(e){e.exports=JSON.parse('{"permalink":"/blog/releases/3.9","editUrl":"https://github.com/facebook/docusaurus/edit/main/website/blog/releases/3.9/index.mdx","source":"@site/blog/releases/3.9/index.mdx","title":"Docusaurus 3.9","description":"We are happy to announce Docusaurus 3.9.","date":"2025-09-25T00:00:00.000Z","tags":[{"inline":false,"label":"Release","permalink":"/blog/tags/release","description":"Blog posts about Docusaurus\' new releases"}],"readingTime":5.62,"hasTruncateMarker":true,"authors":[{"name":"S\xe9bastien Lorber","title":"Docusaurus maintainer, This Week In React editor","url":"https://thisweekinreact.com","page":{"permalink":"/blog/authors/slorber"},"description":"A freelance React and React-Native developer near Paris and Docusaurus maintainer. Also runs ThisWeekInReact.com, a newsletter to stay updated with the React ecosystem.","socials":{"bluesky":"https://bsky.app/profile/sebastienlorber.com","x":"https://x.com/sebastienlorber","linkedin":"https://www.linkedin.com/in/sebastienlorber/","github":"https://github.com/slorber","instagram":"https://www.instagram.com/thisweekinreact","newsletter":"https://thisweekinreact.com"},"imageURL":"https://github.com/slorber.png","key":"slorber"}],"frontMatter":{"title":"Docusaurus 3.9","authors":["slorber"],"tags":["release"],"image":"./img/social-card.png","date":"2025-09-25T00:00:00.000Z"},"unlisted":false,"lastUpdatedAt":1767205731000,"lastUpdatedBy":"S\xe9bastien Lorber","nextItem":{"title":"Docusaurus 3.8","permalink":"/blog/releases/3.8"}}')}}]);